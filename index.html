<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë–¡ìë°©ë²”ëŒ€ ì •ë³´ ì„¼í„°</title>
  <style>
    :root{
      --card:#ffffff; --ink:#0f172a; --muted:#475569; --accent:#22c55e; --border:#e5e7eb;
      --company:#3b82f6; --civil:#16a34a; --org:#8b5cf6; --magazine:#f97316;
      --up:#16a34a; --down:#dc2626; --e:cubic-bezier(.22,.9,.24,1);
    }

    /* â˜… ì „ì—­ ë°•ìŠ¤ì‚¬ì´ì§•: í­ ê³„ì‚°ì— padding/border í¬í•¨ â†’ ì…ë ¥ì¹¸ ì‚ì ¸ë‚˜ì˜´ í•´ê²° */
    html { box-sizing: border-box; font-size:17px; overflow-y:scroll; }
    *, *::before, *::after { box-sizing: inherit; }

    body{margin:0;font-family:"Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:var(--ink);background:#f0fdf4;line-height:1.6}

    /* í—¤ë” */
    header{background:#fff;border-bottom:1px solid var(--border);padding:20px;text-align:center;box-shadow:0 2px 6px rgba(0,0,0,.05)}
    header h1{margin:0;font-size:30px;color:var(--accent);font-weight:900;cursor:pointer;transition:transform .2s var(--e)}
    header h1:hover{transform:scale(1.02)}

    /* ë ˆì´ì•„ì›ƒ */
    .layout{display:grid;grid-template-columns:300px 1fr 300px;column-gap:40px;row-gap:24px;max-width:1600px;margin:20px auto;padding:0 30px}
    main{display:flex;flex-direction:column;gap:20px}

    /* ì¢Œìš° ì‚¬ì´ë“œ */
    aside{background:var(--card);border-radius:14px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.06);position:sticky;top:20px;height:500px;overflow-y:auto}
    aside h3{margin:0 0 12px;color:var(--accent);font-size:16px;font-weight:700}
    aside ul{margin:0;padding-left:18px}
    aside li{margin-bottom:6px}
    .aside-box{margin-bottom:20px;padding:12px;border-radius:10px;background:#fff}
    .aside-box h3{margin:0 0 10px;font-size:16px;font-weight:700;color:var(--accent)}

    /* íˆì–´ë¡œ */
    .hero{text-align:center;padding:40px;border-radius:16px;background:linear-gradient(135deg,#bbf7d0,#ecfdf5);box-shadow:0 6px 16px rgba(0,0,0,.08);margin:20px 0;animation:fadeIn .35s var(--e)}
    .hero h2{margin:0 0 14px;color:var(--accent);font-size:26px;font-weight:800}
    .hero p{font-size:16px;color:#374151}

    /* ìƒë‹¨ ë„¤ë¹„ ì¹´ë“œ */
    .nav-parts{display:flex;justify-content:center;gap:24px;margin:20px auto;flex-wrap:wrap}
    .nav-card{flex:1;min-width:150px;max-width:200px;background:linear-gradient(135deg,#dcfce7,#f0fdf4);padding:22px 16px;text-align:center;border-radius:16px;box-shadow:0 6px 14px rgba(0,0,0,.08);cursor:pointer;transition:transform .25s var(--e), box-shadow .25s var(--e)}
    .nav-card:hover{transform:translateY(-6px);box-shadow:0 10px 24px rgba(0,0,0,.12)}
    .nav-card .icon{font-size:28px;margin-bottom:10px}
    .nav-card h3{margin:0;font-size:18px;color:var(--accent);font-weight:700}

    /* í˜ì´ì§€(í™ˆ ë“±) */
    section.page{display:none;padding:28px;background:var(--card);border-radius:14px;box-shadow:0 4px 12px rgba(0,0,0,.05)}
    section.page.active{display:block;animation:pageIn .28s var(--e)}
    section h2{margin:0 0 16px;color:var(--accent);font-size:21px;font-weight:700}

    /* í™ˆ í•˜ìœ„ íƒ­ */
    .sub-nav{display:flex;gap:12px;margin:20px 0;flex-wrap:wrap}
    .sub-nav button{padding:10px 18px;border:none;border-radius:8px;background:var(--accent);color:#fff;font-size:15px;font-weight:600;cursor:pointer;transition:transform .18s var(--e), filter .18s var(--e)}
    .sub-nav button:hover{filter:brightness(.96); transform:translateY(-2px)}
    .sub-page{display:none;margin-top:16px}
    .sub-page.active{display:block;animation:fadeIn .25s var(--e)}

    /* í™ˆ ì¹´ë“œ */
    .card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;margin-top:16px}
    .card{background:#fff;border-radius:14px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:transform .25s var(--e),box-shadow .25s var(--e);cursor:pointer;text-align:center;border:2px solid transparent}
    .card:hover{transform:translateY(-6px);box-shadow:0 10px 24px rgba(0,0,0,.12)}
    .card .icon{font-size:30px;margin-bottom:12px}
    .card h4{margin:0 0 6px;font-size:17px;font-weight:700}
    .card p{margin:0;font-size:14.5px;color:#4b5563}
    .company-card{border-color:var(--company)} .company-card .icon,.company-card h4{color:var(--company)}
    .civil-card{border-color:var(--civil)} .civil-card .icon,.civil-card h4{color:var(--civil)}
    .org-card{border-color:var(--org)} .org-card .icon,.org-card h4{color:var(--org)}
    .magazine-card{border-color:var(--magazine)} .magazine-card .icon,.magazine-card h4{color:var(--magazine)}

    /* ë‹¹ê·¼ë§ˆì¼“ ì¹´ë“œ */
    .market-cards{display:grid;grid-template-columns:repeat(5,1fr);gap:20px;margin-top:20px}
    .market-card{background:#fff;border-radius:20px;padding:20px;box-shadow:0 6px 16px rgba(0,0,0,.08);text-align:center;transition:transform .25s var(--e), box-shadow .25s var(--e)}
    .market-card:hover{transform:translateY(-6px);box-shadow:0 10px 24px rgba(0,0,0,.12)}
    .market-card h3{margin:0 0 10px;font-size:18px;color:#111827}
    .market-card .id,.market-card .label{font-size:14px;color:#6b7280}
    .market-card .item-name{font-size:20px;font-weight:800;margin:4px 0 14px;color:#111827}
    .market-card .price{display:inline-block;background:#dcfce7;color:#065f46;font-weight:700;font-size:18px;padding:8px 16px;border-radius:50px}

    /* ì„¹ì…˜ íƒ€ì´í‹€ ì˜† ë„ì›€ë§ ë²„íŠ¼ */
    .section-header{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .help-pill{
      border:1px solid #bbf7d0;background:#ecfdf5;color:#065f46;
      border-radius:999px;padding:6px 10px;font-size:13.5px;font-weight:800;
      cursor:pointer;transition:transform .18s var(--e), filter .18s var(--e); user-select:none;
    }
    .help-pill:hover{filter:brightness(.98);transform:translateY(-1px)}

    /* ì¹´í…Œê³ ë¦¬ í‘œ */
    #category table{width:100%;border-collapse:collapse;margin:16px 0 32px;font-size:16px}
    #category th,#category td{padding:14px 12px;border-bottom:1px solid var(--border);text-align:center}
    #category th{background:#e6f9ef;color:#065f46;font-size:17px}
    #category tr:nth-child(even) td{background:#f9fafb}
    #category tr:hover td{background:#dcfce7}
    #category h3{margin-top:40px;font-size:20px;color:var(--accent);font-weight:800;border-left:6px solid var(--accent);padding-left:10px}
    .quick-nav{display:flex;flex-wrap:wrap;gap:10px;margin:16px 0 24px}
    .quick-nav button{padding:8px 14px;border:none;border-radius:8px;background:var(--accent);color:#fff;font-size:14px;cursor:pointer;transition:transform .18s var(--e), filter .18s var(--e)}
    .quick-nav button:hover{filter:brightness(.96); transform:translateY(-2px)}

    .up{color:var(--up);font-weight:700}
    .down{color:var(--down);font-weight:700}

    /* ê³µìš© ëª¨ë‹¬ */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:9999;visibility:hidden;opacity:0;transition:opacity .22s var(--e),visibility .22s var(--e)}
    .modal.show{visibility:visible;opacity:1}
    .modal-content{
      position:absolute;left:50%;top:50%;transform:translate(-50%, -50%) scale(.98);
      width:clamp(360px,92vw,1000px);height:85vh;overflow-y:auto;background:#fff;border-radius:16px;
      box-shadow:0 12px 30px rgba(0,0,0,.25);padding:22px 22px 26px;font-size:17.5px;text-align:center;
      transition:transform .22s var(--e), opacity .22s var(--e); will-change:transform,opacity; opacity:0;

      /* âœ¨ ëª¨ë‹¬ í…Œë§ˆ ê³µí†µ ë³€ìˆ˜ (ê¸°ë³¸ê°’: ë…¹ìƒ‰) */
      --m-accent:#16a34a;
      --m-chip-bg:#ecfdf5; --m-chip-border:#bbf7d0; --m-chip-ink:#065f46;
      --m-badge-bg:#ecfdf5; --m-badge-border:#86efac; --m-badge-ink:#065f46;
    }
    .modal-content{ padding-right:56px; }
    .modal.show .modal-content{transform:translate(-50%, -50%) scale(1);opacity:1}
    .modal h3{margin:0 0 4px;color:#111827;font-size:24px}
    .modal-tagline{margin:0 0 8px;color:var(--muted);font-weight:700}
    .modal-nav{margin:12px 0 14px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
    .modal-nav button{padding:10px 18px;border:none;border-radius:8px;background:var(--m-accent);color:#fff;cursor:pointer;font-weight:700;font-size:15.5px;transition:transform .18s var(--e), filter .18s var(--e)}
    .modal-nav button:hover{filter:brightness(.96); transform:translateY(-2px)}
    .modal-tab{display:none}
    .modal-tab.active{display:block;animation:tabIn .24s var(--e)}
    .modal-tab ul{list-style-position:inside;padding-left:0;margin:8px auto}
    .modal-tab p,.modal-tab li{text-align:center;line-height:1.8;margin:6px 0}

    /* ë‹«ê¸° ë²„íŠ¼ ìœ„ì¹˜ */
    .modal .close-btn, #helpModal .close-btn, #storyModal .close-btn{
      position:absolute !important; top:12px !important; right:12px !important; left:auto !important;
      margin:0 !important; display:inline-flex; align-items:center; justify-content:center; z-index:2;
    }
    .close-btn{background:#ef4444;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:800}
    .close-btn:hover{filter:brightness(.95)}

    /* ì¡°ì§í‘œ(ëª¨ë‹¬) */
    #modal-org{font-size:18.5px}
    #modalOrgList.org-list{line-height:1.9; max-width:820px; margin:0 auto}
    #modalOrgList .org-title{font-size:20px;font-weight:900;margin:4px 0 12px}
    #modalOrgList .org-section{list-style:none;margin:16px 0 10px;display:flex;justify-content:center}
    #modalOrgList .org-section span{
      background:var(--m-chip-bg);border:1px solid var(--m-chip-border);color:var(--m-chip-ink);
      padding:6px 12px;border-radius:999px;font-weight:800;letter-spacing:.3px
    }
    #modalOrgList .org-item{list-style:none;padding:6px 12px;margin:2px 0}
    #modalOrgList .org-item .dot{display:inline-block;width:6px;height:6px;background:var(--m-accent);border-radius:999px;margin-right:8px;position:relative;top:-1px}
    #modalOrgList .org-gap{height:6px;list-style:none}
    #modalOrgList .org-total{list-style:none;margin-top:14px;padding:10px 12px;background:#f1f5f9;border-radius:10px;font-weight:800;color:#0f172a;border:1px solid #e2e8f0}

    /* íŒë§¤ë¬¼í’ˆ(ëª¨ë‹¬) */
    #modalProdList{max-width:680px; margin:6px auto 0; padding:0; display:flex; flex-direction:column; gap:12px;}
    #modalProdList .prod-card{list-style:none; background:#fff; border:1px solid #e6efe9; border-radius:14px; box-shadow:0 2px 10px rgba(0,0,0,.04); padding:14px 16px; position:relative; overflow:hidden; opacity:0; transform:translateY(6px); animation:listIn .34s var(--e) forwards; will-change:transform,opacity;}
    #modalProdList .prod-card::before{content:""; position:absolute; left:0; top:0; bottom:0; width:4px; background:linear-gradient(180deg,var(--m-accent),rgba(0,0,0,.08)); opacity:.6;}
    #modalProdList .prod-title{font-weight:900; font-size:16.75px; color:var(--ink); letter-spacing:.2px;}
    #modalProdList .prod-price{display:inline-block; margin-top:6px; background:var(--m-badge-bg); border:1px solid var(--m-badge-border); color:var(--m-badge-ink); font-weight:900; font-size:14.5px; border-radius:999px; padding:6px 12px;}
    #modalProdList .prod-note{margin-top:8px; color:var(--muted); font-size:13.5px; line-height:1.7;}
    #modalProdList .prod-card:hover{transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.08);}

    /* ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes fadeIn{from{opacity:0;transform:translateY(4px)} to{opacity:1;transform:none}}
    @keyframes pageIn{from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:none}}
    @keyframes tabIn{from{opacity:.0;transform:translateY(6px)} to{opacity:1;transform:none}}
    @keyframes listIn{from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none}}
    @media (prefers-reduced-motion: reduce){ *{animation:none !important; transition:none !important} }

    #scrollProgress {
      position: fixed; left: 0; top: 0; height: 3px; width: 0%;
      background: linear-gradient(90deg, #22c55e, #86efac);
      z-index: 99999; box-shadow: 0 0 8px rgba(34,197,94,.5);
    }

    /* ========= íŒŒìŠ¤í…”í†¤ ëª¨ë‹¬ ë°°ê²½ + í…Œë§ˆ ë³€ìˆ˜ ì„¸íŠ¸ ========= */
    .bg-tteok{ background:linear-gradient(135deg,#bbf7d0,#a7f3d0,#f0fdf4);}
    .bg-tteok{ --m-accent:#16a34a; --m-chip-bg:#ecfdf5; --m-chip-border:#bbf7d0; --m-chip-ink:#065f46; --m-badge-bg:#ecfdf5; --m-badge-border:#86efac; --m-badge-ink:#065f46; }

    .bg-beehive{
      background:
        radial-gradient(1200px 600px at 100% -50%, rgba(15,23,42,.55), transparent 60%),
        linear-gradient(135deg,#fef3c7,#fde68a,#0f172a);
      --m-accent:#111827;
      --m-chip-bg:#fff7ed; --m-chip-border:#fcd34d; --m-chip-ink:#78350f;
      --m-badge-bg:#fffbeb; --m-badge-border:#fde68a; --m-badge-ink:#111827;
    }

    .bg-inback{ background:linear-gradient(135deg,#ede9fe,#f5d0fe,#fce7f3); }
    .bg-inback{ --m-accent:#8b5cf6; --m-chip-bg:#f5f3ff; --m-chip-border:#ddd6fe; --m-chip-ink:#5b21b6; --m-badge-bg:#faf5ff; --m-badge-border:#e9d5ff; --m-badge-ink:#6b21a8; }

    .bg-chakani{ background:linear-gradient(135deg,#fff7ed,#fde68a,#fef3c7); }
    .bg-chakani{ --m-accent:#f59e0b; --m-chip-bg:#fffbeb; --m-chip-border:#fde68a; --m-chip-ink:#92400e; --m-badge-bg:#fff7ed; --m-badge-border:#fcd34d; --m-badge-ink:#92400e; }

    .bg-tteok-green{
      background:linear-gradient(135deg,#bbf7d0,#a7f3d0,#f0fdf4);
      --m-accent:#16a34a;
      --m-chip-bg:#ecfdf5; --m-chip-border:#bbf7d0; --m-chip-ink:#065f46;
      --m-badge-bg:#ecfdf5; --m-badge-border:#86efac; --m-badge-ink:#065f46;
    }

    .bg-ems{ background:linear-gradient(135deg,#fee2e2,#fecaca,#fef2f2);}
    .bg-ems{ --m-accent:#ef4444; --m-chip-bg:#fef2f2; --m-chip-border:#fecaca; --m-chip-ink:#7f1d1d; --m-badge-bg:#fff1f2; --m-badge-border:#fecdd3; --m-badge-ink:#7f1d1d; }
    .bg-southpd{ background:linear-gradient(135deg,#dbeafe,#bfdbfe,#e0f2fe);}
    .bg-southpd{ --m-accent:#3b82f6; --m-chip-bg:#eff6ff; --m-chip-border:#bfdbfe; --m-chip-ink:#1e40af; --m-badge-bg:#eff6ff; --m-badge-border:#bfdbfe; --m-badge-ink:#1e40af; }
    .bg-northpd{ background:linear-gradient(135deg,#f9fafb,#d1d5db,#e5e7eb);}
    .bg-northpd{ --m-accent:#374151; --m-chip-bg:#f3f4f6; --m-chip-border:#d1d5db; --m-chip-ink:#111827; --m-badge-bg:#f8fafc; --m-badge-border:#e5e7eb; --m-badge-ink:#111827; }
    .bg-castillo{ background:linear-gradient(135deg,#fef9c3,#fde68a,#fff7ed);}
    .bg-castillo{ --m-accent:#eab308; --m-chip-bg:#fffbeb; --m-chip-border:#fef3c7; --m-chip-ink:#78350f; --m-badge-bg:#fffbeb; --m-badge-border:#fde68a; --m-badge-ink:#78350f; }
    .bg-broadcast{ background:linear-gradient(135deg,#e0f2fe,#c7d2fe,#bfdbfe);}
    .bg-broadcast{ --m-accent:#1e3a8a; --m-chip-bg:#eef2ff; --m-chip-border:#c7d2fe; --m-chip-ink:#1e3a8a; --m-badge-bg:#eff6ff; --m-badge-border:#bfdbfe; --m-badge-ink:#1e3a8a; }

    .bg-bigdick{ background:linear-gradient(135deg,#fff7ed,#fef9c3,#fde68a);}
    .bg-bigdick{ --m-accent:#eab308; --m-chip-bg:#fffbeb; --m-chip-border:#fde68a; --m-chip-ink:#78350f; --m-badge-bg:#fff7ed; --m-badge-border:#fcd34d; --m-badge-ink:#78350f; }
    .bg-cheongryong{ background:linear-gradient(135deg,#bae6fd,#7dd3fc,#e0f2fe);}
    .bg-cheongryong{ --m-accent:#0ea5e9; --m-chip-bg:#e0f2fe; --m-chip-border:#bae6fd; --m-chip-ink:#075985; --m-badge-bg:#e0f2fe; --m-badge-border:#93c5fd; --m-badge-ink:#075985; }
    .bg-sakura{ background:linear-gradient(135deg,#fce7f3,#fbcfe8,#ffe4e6);}
    .bg-sakura{ --m-accent:#ec4899; --m-chip-bg:#fdf2f8; --m-chip-border:#fbcfe8; --m-chip-ink:#86198f; --m-badge-bg:#fdf2f8; --m-badge-border:#f5d0fe; --m-badge-ink:#86198f; }
    .bg-jakdu{ background:linear-gradient(135deg,#f3f4f6,#fecaca,#e5e7eb);}
    .bg-jakdu{ --m-accent:#b91c1c; --m-chip-bg:#fff1f2; --m-chip-border:#fecaca; --m-chip-ink:#7f1d1d; --m-badge-bg:#fef2f2; --m-badge-border:#fecaca; --m-badge-ink:#7f1d1d; }

    /* ===== ë¦¬ì–¼ ë°©ì†¡êµ­ (í™ˆ ë°–, í™ˆ ì•„ë˜) â€” í™ˆ ì„¹ì…˜ê³¼ â€˜ì™„ì „ ë™ì¼ í­â€™ ===== */
    #broadcastBox{
      background:#fff; border-radius:14px; box-shadow:0 4px 12px rgba(0,0,0,.05);
      padding:28px; margin:20px 0; width:100%; max-width:none;
    }
    #broadcastBox .title-row{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}
    #broadcastBox h2{margin:0; color:#1e3a8a; font-size:22px; font-weight:900}
    #broadcastBox .desc{margin:0 0 16px; color:#374151; font-size:15.5px}

    .broadcast-grid{display:flex; flex-direction:column; gap:22px}

    /* ì‚¬ì—° ì‹ ì²­ ì¹´ë“œ */
    .story-card{background:linear-gradient(180deg,#f8fafc,#ffffff);border:1px solid var(--border);border-radius:14px;padding:18px}
    .story-card h3{margin:0 0 8px;font-size:18px;font-weight:900;color:#0f172a}

    /* â˜… í¼ ë ˆì´ì•„ì›ƒ ì •ëˆ(ì‚ì ¸ë‚˜ì˜´/ì •ë ¬ ë¬¸ì œ í•´ê²°) */
    .story-form{display:grid;gap:12px}
    .story-form .row{
      display:grid; grid-template-columns:140px minmax(0,1fr); align-items:center; gap:10px;
    }
    .story-form .row.double{
      grid-template-columns:140px minmax(0,1fr) minmax(0,1fr);
    }
    .story-form .row.actions{ grid-template-columns: 1fr; }
    .story-form label{font-weight:800;color:#0f172a;align-self:start;padding-top:2px}
    .story-form input,.story-form textarea,.story-form select{
      display:block;width:100%;padding:12px;border:1px solid var(--border);border-radius:10px;font-size:15px;background:#fff;line-height:1.5;
    }
    .story-form textarea{min-height:140px;resize:vertical}
    /* ë¹„í™œì„± ì…ë ¥ ìŠ¤íƒ€ì¼ */
    .story-form input:disabled, .story-form select:disabled, .story-form textarea:disabled{
      background:#f3f4f6; color:#9ca3af; cursor:not-allowed;
    }

    .inline{display:flex;align-items:center;gap:12px}
    .switch{position:relative;width:46px;height:26px;background:#e5e7eb;border-radius:999px;cursor:pointer;transition:background .2s var(--e)}
    .switch::after{content:"";position:absolute;top:3px;left:3px;width:20px;height:20px;border-radius:50%;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.2);transition:transform .2s var(--e)}
    .switch.active{background:#1e3a8a}
    .switch.active::after{transform:translateX(20px)}

    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:11px 16px;border:none;border-radius:10px;background:#1e3a8a;color:#fff;font-weight:900;cursor:pointer;transition:transform .18s var(--e), filter .18s var(--e)}
    .btn:hover{filter:brightness(.96); transform:translateY(-2px)}
    .hint{font-size:12.5px; color:#6b7280}

    /* ìµœì‹  ì‚¬ì—° ë¦¬ìŠ¤íŠ¸ */
    .story-list{background:#fff;border:1px solid var(--border);border-radius:14px}
    .story-list .head{display:flex;align-items:center;gap:10px;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border)}
    .story-list .head h3{margin:0;font-size:18px;font-weight:900}
    .story-list .head .filters{display:flex;gap:8px;align-items:center}
    .pill{display:inline-flex;align-items:center;gap:6px;border:1px solid #c7d2fe;background:#eef2ff;color:#1e3a8a;border-radius:999px;padding:6px 10px;font-weight:800;font-size:12.5px}
    #storyList{list-style:none;margin:0;padding:0}
    .story-item{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-top:1px solid var(--border);cursor:pointer;transition:background .15s}
    .story-item:hover{background:#f8fafc}
    .story-item .left{display:flex;align-items:center;gap:10px;min-width:0}
    .badge{display:inline-flex;align-items:center;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:900;border:1px solid #c7d2fe;background:#eef2ff;color:#1e3a8a}
    .title{font-weight:900;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:48vw}
    .meta{font-size:12.5px;color:#6b7280}
    .story-empty{padding:18px;text-align:center;color:#6b7280}

    /* ëª¨ë°”ì¼ í¼ ìŠ¤íƒ */
    @media (max-width: 640px){
      .story-form .row,
      .story-form .row.double{ grid-template-columns: 1fr; }
      .story-form label{ margin-bottom:6px; }
    }

    /* ===== ğŸ”½ ì¶”ê°€: ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ ì¹´ë“œ + ì• ë‹ˆë©”ì´ì…˜ ===== */
    .car-sale-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
      gap:20px;
      margin-top:20px;
    }
    .car-card{
      background:#fff;
      border-radius:16px;
      padding:20px;
      box-shadow:0 6px 16px rgba(0,0,0,.08);
      text-align:center;
      cursor:pointer;
      transition:transform .25s var(--e), box-shadow .25s var(--e);
      border:2px solid transparent;
      animation:fadeInUp .4s ease forwards;
    }
    .car-card:hover{
      transform:translateY(-6px);
      box-shadow:0 10px 24px rgba(0,0,0,.12);
      border-color:var(--accent);
    }
    .car-card .icon{
      font-size:36px;margin-bottom:8px
    }
    .car-card h4{
      margin:0 0 6px;font-size:18px;font-weight:800;color:var(--accent)
    }
    .car-card .price{
      display:inline-block;
      background:#dcfce7;color:#065f46;font-weight:700;font-size:16px;
      padding:6px 14px;border-radius:50px
    }
    @keyframes fadeInUp{from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:none}}
  </style>
</head>
<body>
  <header><h1 onclick="goHome()">ë–¡ìë°©ë²”ëŒ€ ì •ë³´ ì„¼í„°</h1></header>
  <div id="scrollProgress" aria-hidden="true"></div>

  <div class="layout">
    <!-- ì™¼ìª½ -->
    <aside>
      <div class="aside-box">
        <h3>ğŸ“¢ ê³µì§€ì‚¬í•­</h3>
        <ul>
          <li>ë–¡ìë°©ë²”ëŒ€ ì •ë³´ ì„¼í„° OPEN</li>
          <li>ë–¡ìë°©ë²”ëŒ€ íˆ¬ì ì„¼í„° ë¦¬ë‰´ì–¼ </li>
          <li>ğŸ™ë¬¸ì˜: 703 ê¹€ë‚¨ì •, ë””ì½” dm</li>
        </ul>
      </div>
      <div class="aside-box">
        <h3>ğŸ‰ ë‹¤ê°€ì˜¤ëŠ” ì´ë²¤íŠ¸</h3>
        <ul>
          <li> ğŸ´ ì‘ë‘ í˜¸ìŠ¤íŠ¸ë°”</li>
          <li> ğŸ€ ë–¡ìë°©ë²”ëŒ€ ì´ë²¤íŠ¸</li>
          <li> ğŸ’ ì •ë¶€ì¥, ì›ë‘ ê²°í˜¼ì‹</li>
        </ul>
      </div>
    </aside>

    <!-- ì¤‘ì•™ -->
    <main>
      <div class="nav-parts">
        <div class="nav-card" onclick="showPage('home')"><div class="icon">ğŸ </div><h3>í™ˆ</h3></div>
        <div class="nav-card" onclick="showPage('market')"><div class="icon">ğŸ¥•</div><h3>ë‹¹ê·¼ë§ˆì¼“</h3></div>
        <div class="nav-card" onclick="showPage('category')"><div class="icon">ğŸ“‚</div><h3>ì¹´í…Œê³ ë¦¬</h3></div>
        <div class="nav-card" onclick="showPage('stats')"><div class="icon">ğŸ“ˆ</div><h3>ê±°ë˜ í†µê³„</h3></div>
      </div>

      <div class="hero"><h2>ğŸ“Š ì •ë³´ ì„¼í„°</h2><p>ë¦¬ì–¼ì›”ë“œì˜ ì•„ì´í…œ ì‹œì„¸ì™€ ì¡°ì§ ì •ë³´ë¥¼ í•œëˆˆì—!</p></div>

      <!-- í™ˆ -->
      <section id="home" class="page active">
        <h2>ğŸ  í™ˆ</h2>
        <div class="sub-nav">
          <button onclick="showSubPage('company')">ê¸°ì—…</button>
          <button onclick="showSubPage('civil')">ê³µë¬´ì›</button>
          <button onclick="showSubPage('org')">ì¡°ì§</button>
          <button onclick="showSubPage('magazine')">ë©”ê±°ì§„</button>
        </div>

        <!-- ê¸°ì—… -->
        <div id="company" class="sub-page active">
          <h3>ğŸ¢ ê¸°ì—…</h3>
          <div class="card-grid">
            <div class="card company-card" onclick="openEntity('company','beehive')">
              <div class="icon">ğŸ</div><h4>ë²Œì§‘</h4><p>-</p>
            </div>
            <div class="card company-card" onclick="openEntity('company','inback')">
              <div class="icon">ğŸ–</div><h4>InBack</h4><p>-</p>
            </div>
            <div class="card company-card" onclick="openEntity('company','chakani')">
              <div class="icon">ğŸ¦„</div><h4>ì°¨ì¹´ë‹ˆ</h4><p>-</p>
            </div>
            <div class="card company-card" onclick="openEntity('company','tteokleaf')">
              <div class="icon">ğŸ€</div><h4>ë–¡ìë°©ë²”ëŒ€</h4><p>-</p>
            </div>
          </div>
        </div>

        <!-- ê³µë¬´ì› -->
        <div id="civil" class="sub-page">
          <h3>ğŸ› ê³µë¬´ì›</h3>
          <div class="card-grid">
            <div class="card civil-card" onclick="openEntity('civil','ems')">
              <div class="icon">ğŸš‘</div><h4>EMS</h4><p>-</p>
            </div>
            <div class="card civil-card" onclick="openEntity('civil','southpd')">
              <div class="icon">ğŸ‘®</div><h4>ë‚¨ë¶€ê²½ì°°</h4><p>-</p>
            </div>
            <div class="card civil-card" onclick="openEntity('civil','northpd')">
              <div class="icon">ğŸš“</div><h4>ë¶ë¶€ê²½ì°°</h4><p>-</p>
            </div>
            <div class="card civil-card" onclick="openEntity('civil','castillo')">
              <div class="icon">ğŸš§</div><h4>ì¹´ìŠ¤í‹¸ë¡œ</h4><p>-</p>
            </div>
            <div class="card civil-card" onclick="openEntity('civil','broadcast')">
              <div class="icon">ğŸŒ</div><h4>ë°©ì†¡êµ­</h4><p>-</p>
            </div>
          </div>
        </div>

        <!-- ì¡°ì§ -->
        <div id="org" class="sub-page">
          <h3>ğŸ‘¥ ì¡°ì§</h3>
          <div class="card-grid">
            <div class="card org-card" onclick="openEntity('org','bigdick')">
              <div class="icon">ğŸŒ</div><h4>ë¹…ë”•</h4><p>-</p>
            </div>
            <div class="card org-card" onclick="openEntity('org','cheongryong')">
              <div class="icon">ğŸ’</div><h4>ì²­ë£¡</h4><p>-</p>
            </div>
            <div class="card org-card" onclick="openEntity('org','sakura')">
              <div class="icon">ğŸŒ¸</div><h4>ì‚¬ì¿ ë¼</h4><p>-</p>
            </div>
            <div class="card org-card" onclick="openEntity('org','jakdu')">
              <div class="icon">ğŸ´</div><h4>ì‘ë‘</h4><p>-</p>
            </div>
          </div>
        </div>

        <!-- ë©”ê±°ì§„ -->
        <div id="magazine" class="sub-page">
          <h3>ğŸ“° ë©”ê±°ì§„</h3>
          <div class="card-grid">
            <div class="card magazine-card">
              <div class="icon">ğŸš€</div><h4>ë¯¸ë˜ ê¸°ìˆ  íŠ¸ë Œë“œ</h4><p>AI, ë©”íƒ€ë²„ìŠ¤, ì¹œí™˜ê²½ ì‚°ì—…</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ë¦¬ì–¼ ë°©ì†¡êµ­ (í™ˆ ì„¹ì…˜ ë°”ë¡œ ì•„ë˜, ê°™ì€ í­) -->
      <div id="broadcastBox">
        <div class="title-row">
          <h2>ğŸ“¡ ë¦¬ì–¼ ë°©ì†¡êµ­</h2>
          <span class="pill">ì‹¤ì‹œê°„ ì ‘ìˆ˜ Â· ìµëª… ê°€ëŠ¥</span>
        </div>
        <p class="desc">ì‚¬ì—°ì„ ë³´ë‚´ë©´ ìš´ì˜ì§„ í™•ì¸ í›„ ë°©ì†¡ìœ¼ë¡œ ì†Œê°œë¼ìš”. <span class="hint">* ë¡œê·¸ì¸ ì—†ì´ ìµëª… ì ‘ìˆ˜ ê°€ëŠ¥</span></p>

        <div class="broadcast-grid">
          <!-- ì‚¬ì—° ì‹ ì²­ -->
          <div class="story-card">
            <h3>ğŸ“ ì‚¬ì—° ì‹ ì²­</h3>
            <form id="storyForm" class="story-form" novalidate>
              <div class="row double">
                <label for="storyNick">ë³´ë‚´ëŠ” ë¶„</label>
                <input id="storyNick" type="text" placeholder="ë‹‰ë„¤ì„" />
                <input id="storyCode" type="text" placeholder="ê³ ë²ˆ (ì˜ˆ: 251)" />
              </div>

              <div class="row">
                <label for="storyCategory">ì¹´í…Œê³ ë¦¬</label>
                <select id="storyCategory" required>
                  <option value="" disabled selected>ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                  <option>ì—°ì• </option><option>ìš°ì •</option><option>ì‚¬ê±´/ì‚¬ê³ </option><option>ì¼ìƒ</option>
                  <option>ì›ƒê¸´ ì¼</option><option>ê°ë™</option><option>ìŒì•…ì‚¬ì—°</option><option>ê¸°íƒ€</option>
                </select>
              </div>

              <div class="row">
                <label for="storyTitle">ì œëª©</label>
                <input id="storyTitle" type="text" placeholder="ì‚¬ì—° ì œëª©" maxlength="60" required />
              </div>

              <div class="row">
                <label for="storySong">ì‹ ì²­ê³¡</label>
                <input id="storySong" type="text" placeholder="ì˜ˆ: ì•„ì´ìœ  - ë°¤í¸ì§€ (ì„ íƒ)" />
              </div>

              <div class="row" style="align-items:start">
                <label for="storyBody">ë‚´ìš©</label>
                <textarea id="storyBody" placeholder="ì‚¬ì—° ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required></textarea>
              </div>

              <div class="row">
                <label>ìµëª…</label>
                <div class="inline">
                  <div id="anonSwitch" class="switch" role="switch" aria-checked="false" tabindex="0"></div>
                  <span class="hint">ìµëª…ìœ¼ë¡œ ë³´ë‚´ê¸°</span>
                </div>
              </div>

              <div class="row actions">
                <button type="submit" class="btn">ì‚¬ì—° ë³´ë‚´ê¸°</button>
              </div>
              <div id="storyMsg" class="hint" style="margin-top:4px" aria-live="polite"></div>
            </form>
          </div>

          <!-- ìµœì‹  ì‚¬ì—° -->
          <div class="story-list">
            <div class="head">
              <h3>ğŸ—‚ ìµœì‹  ì‚¬ì—°</h3>
              <div class="filters">
                <select id="storyFilter" class="pill">
                  <option value="">ì „ì²´</option>
                  <option>ì—°ì• </option><option>ìš°ì •</option><option>ì‚¬ê±´/ì‚¬ê³ </option><option>ì¼ìƒ</option>
                  <option>ì›ƒê¸´ ì¼</option><option>ê°ë™</option><option>ìŒì•…ì‚¬ì—°</option><option>ê¸°íƒ€</option>
                </select>
              </div>
            </div>
            <ul id="storyList"></ul>
          </div>
        </div>
      </div>
      <!-- /ë¦¬ì–¼ ë°©ì†¡êµ­ -->

      <!-- ë‹¹ê·¼ë§ˆì¼“ -->
      <section id="market" class="page">
        <div class="section-header">
          <h2>ğŸ¥• ë‹¹ê·¼ë§ˆì¼“</h2>
          <button class="help-pill" onclick="openHelp('market')">ë‹¹ê·¼ë§ˆì¼“ì´ë€?</button>
        </div>
        <div class="market-cards">
          <div class="market-card"><h3>ì´ë¦„ <span class="id">#ê³ ë²ˆ</span></h3><p class="label">íŒë§¤ë¬¼í’ˆ</p><p class="item-name">ë‹¬ì˜ì</p><div class="price">240ì–µ</div></div>
          <div class="market-card"><h3>ì´ë¦„ <span class="id">#ê³ ë²ˆ</span></h3><p class="label">íŒë§¤ë¬¼í’ˆ</p><p class="item-name">í…Œì €ë ‰íŠ¸</p><div class="price">250ì–µ</div></div>
          <div class="market-card"><h3>ì´ë¦„ <span class="id">#ê³ ë²ˆ</span></h3><p class="label">íŒë§¤ë¬¼í’ˆ</p><p class="item-name">ë¶ˆì† ì´í™íŠ¸</p><div class="price">190ì–µ</div></div>
          <div class="market-card"><h3>ì´ë¦„ <span class="id">#ê³ ë²ˆ</span></h3><p class="label">íŒë§¤ë¬¼í’ˆ</p><p class="item-name">ë¸Œë ˆì´í¬ëŒ„ìŠ¤</p><div class="price">12ì–µ</div></div>
          <div class="market-card"><h3>ì´ë¦„ <span class="id">#ê³ ë²ˆ</span></h3><p class="label">íŒë§¤ë¬¼í’ˆ</p><p class="item-name">êµ¬ë¦„ì˜ì</p><div class="price">260ì–µ</div></div>
        </div>
      </section>

      <!-- ì¹´í…Œê³ ë¦¬ -->
      <section id="category" class="page">
        <h2>ğŸ“‚ ì¹´í…Œê³ ë¦¬ë³„ ì‹œì„¸í‘œ</h2>
        <div class="quick-nav">
          <button onclick="scrollToSection('chair')">ğŸª‘ ì˜ì ì¢…ë¥˜</button>
          <button onclick="scrollToSection('support-car')">ğŸš— í›„ì› ì°¨ëŸ‰</button>
          <button onclick="scrollToSection('island-car')">ğŸ ê·¹ë½ë„ ì°¨ëŸ‰</button>
          <button onclick="scrollToSection('effect')">âœ¨ ì´í™íŠ¸</button>
          <button onclick="scrollToSection('skin')">ğŸ­ ìŠ¤í‚¨</button>
          <button onclick="scrollToSection('dance')">ğŸ’ƒ í–‰ë™Â·ëŒ„ìŠ¤Â·ë™ìƒ</button>
          <button onclick="scrollToSection('item')">âœ¨ ê¸°íƒ€</button>
          <button onclick="scrollToSection('car-sale')">ğŸš— ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ</button>
        </div>

        <h3 id="chair">ğŸª‘ ì˜ì ì¢…ë¥˜</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>ë‹¬ì˜ì</td><td>230ì–µ~250ì–µ</td></tr>
          <tr><td>ì»¤í”¼ì˜ì</td><td>230ì–µ~250ì–µ</td></tr>
          <tr><td>ìƒˆì¥ì˜ì</td><td>160ì–µ~190ì–µ</td></tr>
          <tr><td>êµ¬ë¦„ì˜ì</td><td>270ì–µ~300ì–µ</td></tr>
        </table>

        <h3 id="support-car">ğŸš— í›„ì› ì°¨ëŸ‰</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>M1</td><td>170ì–µ~200ì–µ</td></tr>
          <tr><td>ë¯¸ë‹ˆë°”í‹°</td><td>150ì–µ~180ì–µ</td></tr>
          <tr><td>ì´ê·¸ë„ˆìŠ¤</td><td>245ì–µ~270ì–µ</td></tr>
          <tr><td>M2</td><td>170ì–µ~200ì–µ</td></tr>
          <tr><td>ì‹œë…¸ë¹„</td><td>100ì–µ~120ì–µ</td></tr>
          <tr><td>ë„¤ë¡œ</td><td>230ì–µ~250ì–µ</td></tr>
          <tr><td>ì‡¼íƒ€ë¡œ</td><td>80ì–µ~100ì–µ</td></tr>
          <tr><td>M3</td><td>150ì–µ~200ì–µ</td></tr>
          <tr><td>í…Œì €ë™íŠ¸</td><td>270ì–µ~300ì–µ</td></tr>
          <tr><td>M4</td><td>170ì–µ~200ì–µ</td></tr>
          <tr><td>í•˜ì¿ ìµ¸ìš°</td><td>80ì–µ~110ì–µ</td></tr>
        </table>

        <h3 id="island-car">ğŸ ê·¹ë½ë„ ì°¨ëŸ‰</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>ë°”ë‚˜ë‚˜ì¹´</td><td>60ì–µ~80ì–µ</td></tr>
          <tr><td>ê³ ì–‘ì¹´</td><td>70ì–µ~100ì–µ</td></tr>
          <tr><td>í”¼ë„›ì¹´</td><td>70ì–µ~100ì–µ</td></tr>
        </table>

        <h3 id="effect">âœ¨ ì´í™íŠ¸</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>ë¶ˆì†</td><td>220ì–µ~270ì–µ</td></tr>
          <tr><td>ë¶ˆë°œ</td><td>200ì–µ~250ì–µ</td></tr>
          <tr><td>ë¦¬í”„</td><td>140ì–µ~180ì–µ</td></tr>
          <tr><td>ë²ˆê°œ</td><td>130ì–µ~150ì–µ</td></tr>
          <tr><td>ê½ƒìë¹„</td><td>250ì–µ~280ì–µ</td></tr>
        </table>

        <h3 id="skin">ğŸ­ ìŠ¤í‚¨</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>ë‹¤ë‹ˆì—˜</td><td>200ì–µ~240ì–µ</td></tr>
          <tr><td>HJ</td><td>150ì–µ~200ì–µ</td></tr>
          <tr><td>YH</td><td>140ì–µ~180ì–µ</td></tr>
          <tr><td>ë‹¤í˜œ</td><td>80ì–µ~130ì–µ</td></tr>
          <tr><td>ìœ ì</td><td>80ì–µ~130ì–µ</td></tr>
          <tr><td>ë¬¸ì‹ ë‚¨</td><td>????</td></tr>
          <tr><td>ë³‘ì•„ë¦¬</td><td>150ì–µ~180ì–µ</td></tr>
          <tr><td>ê³ ì–‘ì´</td><td>150ì–µ~180ì–µ</td></tr>
        </table>

        <h3 id="dance">ğŸ’ƒ í–‰ë™Â·ëŒ„ìŠ¤Â·ë™ìƒ</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>ë¸Œë ˆì´í¬ëŒ„ìŠ¤</td><td>10ì–µ~15ì–µ</td></tr>
          <tr><td>ì˜¤ì§•ì–´ëŒ„ìŠ¤</td><td>10ì–µ~15ì–µ</td></tr>
          <tr><td>ë¸Œë¡œí°ë ˆê·¸</td><td>5ì–µ~8ì–µ</td></tr>
          <tr><td>ë§ˆê·¸ë„¤í‹±</td><td>30ì–µ~45ì–µ</td></tr>
          <tr><td>í…”ë¯¸ëŒ„ìŠ¤</td><td>30ì–µ~40ì–µ</td></tr>
          <tr><td>ë²„ìŠ¤ì•ˆì—ì„œëŒ„ìŠ¤</td><td>6ì–µ~8ì–µ</td></tr>
          <tr><td>ìŠ¤ë§ˆíŠ¸ëŒ„ìŠ¤</td><td>30ì–µ~38ì–µ</td></tr>
          <tr><td>ì†Œë‹¤íŒëŒ„ìŠ¤</td><td>38ì–µ~46ì–µ</td></tr>
          <tr><td>íŒí•€ëŒ„ìŠ¤</td><td>5ì–µ~10ì–µ</td></tr>
          <tr><td>ìŠ¤ìº‡ì•¤ì ¤ë‹¤ëŒ„ìŠ¤</td><td>20ì–µ~28ì–µ</td></tr>
          <tr><td>ë»£ë»£ë¡œë´‡ëŒ„ìŠ¤</td><td>6ì–µ~10ì–µ</td></tr>
          <tr><td>ê³¨ë°˜í”ë“¤ê¸°</td><td>15ì–µ~20ì–µ</td></tr>
          <tr><td>í¬ë ˆì´ì§€íŠ¸ì›Œí‚¹</td><td>15ì–µ~20ì–µ</td></tr>
          <tr><td>ìŠ¬ë¦­ë°±</td><td>18ì–µ~27ì–µ</td></tr>
          <tr><td>ì´ë¦¬ì™€</td><td>5ì–µ~8ì–µ</td></tr>
          <tr><td>ì–¸ë”ë”ì”¨</td><td>5ì–µ~8ì–µ</td></tr>
          <tr><td>ìŒë»í</td><td>10ì–µ~15ì–µ</td></tr>
          <tr><td>ë§˜ë§˜</td><td>7ì–µ~11ì–µ</td></tr>
          <tr><td>íšŒì „íšŒì˜¤ë¦¬</td><td>18ì–µ~24ì–µ</td></tr>
          <tr><td>ì˜ë¦¬ëŒ„ìŠ¤</td><td>5ì–µ~10ì–µ</td></tr>
          <tr><td>í•˜íŠ¸ ë™ìƒí¬ì¦ˆ(ë‚¨)</td><td>10ì–µ~15ì–µ</td></tr>
          <tr><td>í•˜íŠ¸ ë™ìƒí¬ì¦ˆ(ì—¬)</td><td>11ì–µ~16ì–µ</td></tr>
          <tr><td>ë™ìƒí¬ì¦ˆ(ë‚¨)</td><td>10ì–µ~15ì–µ</td></tr>
          <tr><td>ë™ìƒí¬ì¦ˆ(ì—¬)</td><td>11ì–µ~15ì–µ</td></tr>
          <tr><td>ë¬´ë¦ì•‰ê¸°</td><td>7ì–µ~10ì–µ</td></tr>
          <tr><td>ì¡°ì‹ í•˜ê²Œ ì•‰ê¸°</td><td>8ì–µ~10ì–µ</td></tr>
          <tr><td>ê´´ì†ì§ˆì£¼</td><td>10ì–µ~13ì–µ</td></tr>
          <tr><td>í”ë“¤ì–´</td><td>15ì–µ~18ì–µ</td></tr>
          <tr><td>ì˜¤ì˜ˆìŠ¤</td><td>9ì–µ~15ì–µ</td></tr>
          <tr><td>ìš”ê°€í¬ì¦ˆ</td><td>13ì–µ~16ì–µ</td></tr>
          <tr><td>ëƒ„ìƒˆë‚˜</td><td>10ì–µ~15ì–µ</td></tr>
          <tr><td>ì“°ëŸ¬ì§€ê¸°</td><td>5ì–µ~7ì–µ</td></tr>
          <tr><td>ê¸°ë„í•˜ëŠ”</td><td>5ì–µ~10ì–µ</td></tr>
          <tr><td>ë‚´ë¹µë…ì´</td><td>5ì–µ~8ì–µ</td></tr>
        </table>

        <h3 id="item">âœ¨ ê¸°íƒ€ ì•„ì´í…œ</h3>
        <table>
          <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
          <tr><td>ë¡¤ëŸ¬</td><td>60ì–µ~80ì–µ</td></tr>
          <tr><td>í« ì…ì–‘ê¶Œ</td><td>160ì–µ~200ì–µ</td></tr>
        </table>

        <!-- ===== ğŸ”½ ì¶”ê°€: ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ (ì¹´ë“œí˜• + ëª¨ë‹¬ ì—°ë™) ===== -->
        <h3 id="car-sale">ğŸš— ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ</h3>
        <div class="car-sale-grid">
          <div class="car-card" data-car="í…Œì €ë™íŠ¸">
            <div class="icon">ğŸš€</div>
            <h4>í…Œì €ë™íŠ¸</h4>
            <p class="price">300ì–µ</p>
          </div>
          <div class="car-card" data-car="ë„¤ë¡œ">
            <div class="icon">ğŸï¸</div>
            <h4>ë„¤ë¡œ</h4>
            <p class="price">250ì–µ</p>
          </div>
          <div class="car-card" data-car="M1">
            <div class="icon">ğŸš—</div>
            <h4>M1</h4>
            <p class="price">200ì–µ</p>
          </div>
          <div class="car-card" data-car="ì‡¼íƒ€ë¡œ">
            <div class="icon">ğŸï¸</div>
            <h4>ì‡¼íƒ€ë¡œ</h4>
            <p class="price">100ì–µ</p>
          </div>
        </div>
        <!-- ===== /ì¶”ê°€ ë ===== -->
      </section>

      <!-- ê±°ë˜ í†µê³„ -->
      <section id="stats" class="page">
        <h2>ğŸ“ˆ ê±°ë˜ í†µê³„</h2>
        <table id="itemTable">
          <thead><tr><th>ì•„ì´í…œ</th><th>ê±°ë˜ëŸ‰</th><th>í‰ê· ê°€</th><th>ë³€ë™</th></tr></thead>
          <tbody></tbody>
        </table>
      </section>
    </main>

    <!-- ì˜¤ë¥¸ìª½ -->
    <aside>
      <h3>ğŸ”¥ ì¸ê¸° TOP 5</h3>
      <ul id="topList"></ul>
      <h3>â° ì‹¤ì‹œê°„ ì•Œë¦¼</h3>
      <ul><li>-</li></ul>
    </aside>
  </div>

  <!-- ì—”í‹°í‹° ëª¨ë‹¬ -->
  <div id="modal" class="modal" aria-hidden="true">
    <div id="modalContent" class="modal-content" role="dialog" aria-modal="true">
      <button class="close-btn" onclick="closeModal()">ë‹«ê¸°</button>
      <h3 id="modalTitle"></h3>
      <p id="modalTagline" class="modal-tagline"></p>
      <div class="modal-nav">
        <button data-tab="org" onclick="showModalTab('org')">ì¡°ì§ë„</button>
        <button data-tab="products" onclick="showModalTab('products')">íŒë§¤ë¬¼í’ˆ</button>
        <button data-tab="info" onclick="showModalTab('info')">ê¸°ì—…ì •ë³´</button>
      </div>
      <div id="modal-org" class="modal-tab">
        <ul id="modalOrgList" class="org-list"></ul>
      </div>
      <div id="modal-products" class="modal-tab">
        <ul id="modalProdList"></ul>
      </div>
      <div id="modal-info" class="modal-tab"><p id="modalInfoText"></p></div>
    </div>
  </div>

  <!-- ì‚¬ì—° ìƒì„¸ ëª¨ë‹¬ -->
  <div id="storyModal" class="modal" aria-hidden="true">
    <div class="modal-content bg-broadcast" role="dialog" aria-modal="true">
      <button class="close-btn" onclick="closeStory()">ë‹«ê¸°</button>
      <h3 id="sModalTitle">ì‚¬ì—° ì œëª©</h3>
      <p class="modal-tagline" id="sModalMeta">ì‘ì„±ì Â· ì‹œê°„</p>
      <div class="help-body">
        <div class="help-view" id="sModalBody" style="white-space:pre-wrap"></div>
        <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
          <span class="badge" id="sModalCat">ì¹´í…Œê³ ë¦¬</span>
          <span class="badge" id="sModalSong" style="display:none"></span>
        </div>
      </div>
    </div>
  </div>

  <!-- ë„ì›€ë§ ëª¨ë‹¬ -->
  <div id="helpModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="close-btn" onclick="closeHelp()">ë‹«ê¸°</button>
      <h3 id="helpTitle">ë‹¹ê·¼ë§ˆì¼“ ë„ì›€ë§</h3>
      <p class="modal-tagline" id="helpTagline">ì»¤ë®¤ë‹ˆí‹° ì¥í„° ì´ìš© ì•ˆë‚´</p>
      <div class="help-body">
        <div id="helpContent" class="help-view"></div>
      </div>
    </div>
  </div>

  <!-- ===== âœ… ì¶”ê°€: ì°¨ëŸ‰ ìƒì„¸ ëª¨ë‹¬ ===== -->
  <div id="carModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="close-btn" onclick="closeCarModal()">ë‹«ê¸°</button>
      <h3 id="carModalTitle">ì°¨ëŸ‰ëª…</h3>
      <p id="carModalPrice" class="modal-tagline">ê°€ê²© ì •ë³´</p>
      <div id="carModalDesc" style="line-height:1.8">ì„¸ë¶€ ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
    </div>
  </div>
  <!-- ===== /ì¶”ê°€ ë ===== -->

  <!-- ê¸°ë³¸ JS -->
  <script>
    /* ---------- ë°ì´í„° ---------- */
    const ENTITIES = { 
      company:{ 
        beehive:{name:"ë²Œì§‘",tagline:"â€œ - â€",info:"ì§€ì—­ ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ ì •ë³´Â·ê±°ë˜ í—ˆë¸Œë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.",
          products:[{name:"ì „íˆ¬ ë°©íƒ„ë³µ", price:"2,000,000ì›", note:"ì¼ì¼ ì œí•œ: ìµœì†Œ 10ê°œ ~ ë¬´ì œí•œ"},{name:"í™•ì¥ íƒ„ì°½", price:"1,500,000ì›", note:"ì¼ì¼ ì œí•œ: ìµœì†Œ 10ê°œ ~ ë¬´ì œí•œ"},{name:"ì†ŒìŒê¸°", price:"1,000,000ì›", note:"ì¼ì¼ ì œí•œ: ìµœì†Œ 10ê°œ ~ ë¬´ì œí•œ"}],
          org:["<strong>ë²Œì§‘ ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","íšŒì¥(1): ì‹ ì§±(251)","ë¶€íšŒì¥(1): ë¹…í† ë¥´(525)","ì‚¬ì¥(1): ë¯¼ëŒ(545)","ë¶€ì‚¬ì¥(1): ì°°ë¦¬ë¦¬ì°¨ë“œ(556)","",
            "[ê°„ë¶€ì§]","ì „ë¬´(2): ë§ˆí‹´(553), ê¹€ë‚¨ì •(703)","ìƒë¬´(2): ì•…ë§ˆ(1025), ê¸¸íƒœë¯¸(597)","ì´ì‚¬(1): ë‚˜ëª½ì´í™ë¨¹ì§€ë§ˆ(958)","",
            "[íŠ¹ìˆ˜ì§]","ë¹„ì„œ(2): ì‹ ì§±êµ¬(1094), ë‚˜ëª½(957)","ë¹„ì„œì‹¤ì¥(1): ë¯¼ì¤‘(2388)","í•´ì™¸ì¶œì¥íŒŒê²¬(1): íˆ¬ë°˜(459)","",
            "[ì¼ë°˜ì§]","ë¶€ì¥(0): ê³µì„","ì°¨ì¥(0): ê³µì„","ê³¼ì¥(0): ê³µì„","ë–¡ìëŒ€ë¦¬(2): ë‡¸ì´(), ë˜˜ë§ˆë‹ˆ(2806)","ë–¡ìì£¼ì„(1): ê³µì„","í–‰ë™ëŒ€ì›(5): ê¹€ì¿µì§(2573), ë§ˆì´ë„ˆ(393), í•œì§€ìš°(2547), ì°¸ë§ˆ(2548), í•¨ì°Œ(3796)","ìˆ˜ìŠµì›(2): í•œì´(2700), ê¹€ë˜¥ë•…(1838)","ì´ ì¸ì›: 22/25"]},
        tteokleaf:{name:"ë–¡ìë°©ë²”ëŒ€",tagline:"â€œë–¡ìì—ì„œ ì‹œì‘í•´ ë°©íƒ„ì²˜ëŸ¼ ì§€ì¼œë‚¸ë‹¤.â€",info:"ì§€ì—­ ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ ì •ë³´Â·ê±°ë˜ í—ˆë¸Œë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.",
          products:[{name:"ì „íˆ¬ ë°©íƒ„ë³µ", price:"2,000,000ì›", note:"ì¼ì¼ ì œí•œ: ìµœì†Œ 10ê°œ ~ ë¬´ì œí•œ"},{name:"í™•ì¥ íƒ„ì°½", price:"1,500,000ì›", note:"ì¼ì¼ ì œí•œ: ìµœì†Œ 10ê°œ ~ ë¬´ì œí•œ"},{name:"ì†ŒìŒê¸°", price:"1,000,000ì›", note:"ì¼ì¼ ì œí•œ: ìµœì†Œ 10ê°œ ~ ë¬´ì œí•œ"}],
          org:["<strong>ë–¡ìë°©ë²”ëŒ€ ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","íšŒì¥(1): ì‹ ì§±(251)","ë¶€íšŒì¥(1): ë¹…í† ë¥´(525)","ì‚¬ì¥(1): ë¯¼ëŒ(545)","ë¶€ì‚¬ì¥(1): ì°°ë¦¬ë¦¬ì°¨ë“œ(556)","",
            "[ê°„ë¶€ì§]","ì „ë¬´(2): ë§ˆí‹´(553), ê¹€ë‚¨ì •(703)","ìƒë¬´(2): ì•…ë§ˆ(1025), ê¸¸íƒœë¯¸(597)","ì´ì‚¬(1): ë‚˜ëª½ì´í™ë¨¹ì§€ë§ˆ(958)","",
            "[íŠ¹ìˆ˜ì§]","ë¹„ì„œ(2): ì‹ ì§±êµ¬(1094), ë‚˜ëª½(957)","ë¹„ì„œì‹¤ì¥(1): ë¯¼ì¤‘(2388)","í•´ì™¸ì¶œì¥íŒŒê²¬(1): íˆ¬ë°˜(459)","",
            "[ì¼ë°˜ì§]","ë¶€ì¥(0): ê³µì„","ì°¨ì¥(0): ê³µì„","ê³¼ì¥(0): ê³µì„","ë–¡ìëŒ€ë¦¬(2): ë‡¸ì´(), ë˜˜ë§ˆë‹ˆ(2806)","ë–¡ìì£¼ì„(1): ê³µì„","í–‰ë™ëŒ€ì›(5): ê¹€ì¿µì§(2573), ë§ˆì´ë„ˆ(393), í•œì§€ìš°(2547), ì°¸ë§ˆ(2548), í•¨ì°Œ(3796)","ìˆ˜ìŠµì›(2): í•œì´(2700), ê¹€ë˜¥ë•…(1838)","ì´ ì¸ì›: 22/25"]},
        inback:{name:"InBack",tagline:"â€œì´ ìŠ¤í…Œì´í¬ê°€ ì‹ê¸° ì „ì— ëŒì•„ì˜¬ê²Œ.â€",info:"ë°ì´í„° ë¶„ì„ê³¼ ìë™í™”ë¥¼ í†µí•´ ì˜ì‚¬ê²°ì •ì„ ì§€ì›í•©ë‹ˆë‹¤.",
          products:[{name:"ì™€ì¸",price:"1,000,000ì›",note:"ëª©ë§ˆë¦„ 20% íšŒë³µ"},{name:"ì¹˜í‚¨ ìŠ¤í…Œì´í¬",price:"1,000,000ì›",note:"ë°°ê³ í”” 30% íšŒë³µ"},{name:"ì²™ì•„ì´ë¡¤ ìŠ¤í…Œì´í¬",price:"1,500,000ì›",note:"ë°°ê³ í”” 70% íšŒë³µ"},{name:"ê°•ì•„ì§€ ì—°ì–´ì‚¬ë£Œ",price:"1,500,000ì›",note:"ë°°ê³ í”” 50% íšŒë³µ"},{name:"ìº£ ì—°ì–´í†µì¡°ë¦¼",price:"1,500,000ì›",note:"ë°°ê³ í”” 50% íšŒë³µ"},{name:"ê°•ì•„ì§€ ì˜¤ë¦¬ë¹„ìŠ¤í‚·",price:"800,000ì›",note:"ë°°ê³ í”” 30% íšŒë³µ"}],
          org:["<strong>inback ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","ì‚¬ì¥: ê¹€ë¯¼ì‚¼(2530)","ë¶€ì‚¬ì¥: ìœ í—´(2216)","ë§¤ë‹ˆì €: ì¶©ì„œ(216), ëŒ€ê¾¸(234)","","[ê°„ë¶€ì§]","ì‹œë‹ˆì–´í‚¤: ì–Œí‘œ(224), í•‘í¬(244), í•˜ëŠ˜(298), ëšœê¸°(1038), ì½”ì¸(2122)","ìŠˆí¼ë°”ì´ì €: ëª½ì‰˜(738), ì§­êµ¬(1586), ë£¨ì´(3120)","","[ì¼ë°˜ì§]","ì›¨ì´í„°(4): ì½”ë„›(502), ê°•ì¤€í˜(3376), ì •ì¼€ì²œ(3395), ë ˆëª¨ë‚˜(3625)","í˜¸ìŠ¤íŠ¸(1): ë„ë¡œë¡œ(947)","ì¸í„´(4): íˆ¬ë°˜(459), í˜ë„¤ì‚¬(3326), ì¸ì§(3626), ê¹€ë‘ì§€(3682)","","[ê¸°íƒ€]","ê³ ë¼ë‹ˆ(202)","ì´ ì¸ì›: 22ëª…"]},
        chakani:{name:"ì°¨ì¹´ë‹ˆ",tagline:"â€œì°¨ì¹´ë‹ˆ ê±´ë“¤ë©´ ì•ˆì°©í•˜ë‹¤!!â€",info:"ì‹ ë¢° ê¸°ë°˜ì˜ ì¤‘ê³ Â·í•œì •íŒ ê±°ë˜ í”Œë«í¼.",
          products:[{name:"ë”¸ê¸°ë°”ë‚˜ë‚˜ ìŠ¤ë¬´ë””",price:"2,000,000ì›"},{name:"ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸",price:"1,000,000ì›"},{name:"ì „ë‚¨ì¹œ í† ìŠ¤íŠ¸",price:"1,000,000ì›"},{name:"í« ë¯¸ë„¤ë„ì›Œí„°",price:"2,000,000ì›",note:"ëª©ë§ˆë¦„ 50%"},{name:"í«ì›Œí„°",price:"1,000,000ì›",note:"ëª©ë§ˆë¦„ 30%"},{name:"ê³ ì–‘ì´ ì¸„ë¥´",price:"1,000,000ì›",note:"ë°°ê³ í”” 30%"}],
          org:["<strong>ì°¨ì¹´ë‹ˆ ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","ë½€ìŠ¤: ì„œí™”(3434)","ë¿Œë½€ìŠ¤: í…ì‹œ(2600)","ë¯¸ë‹ˆë½€ìŠ¤: ì¥ë•ì´Œ(2132)","","[ê°„ë¶€ì§]","ì‚ì„œ: ì•„ê°€(662)","ì“°ì•µë‹˜: ìœ ì‹¤(1143)","ì”©ì”©ì´: í•˜ë£¨(236)","íŠ¹ë³„ì´: â€”","","[ì¸ì‚¬íŒ€]","ë°˜ì§ì´: â€”","","[íŠ¹ìˆ˜ì§]","ê¸ˆìª½ì´: ê¹€ë´‰ë‚¨(291)","","[ì¼ë°˜ì§]","ì¹œì ˆì´: ì•Œë ‰ì‚°ë“œë¡ ë¹„ì¹˜(1675)","ì„±ì‹¤ì´: ë¬´ê±°ë¯¸(2277)","ë°”ë¥¸ì´: í•˜ëƒ¥ì´(269), ê³ ì˜¹ì(2128)","ì–´ë¦°ì´: ë¯¸ë‹ˆ(2774), ë½•ë¯¸ì„ (3844), ì˜ì›”(3219), ì‹ í˜•ë§Œ(3833)","ì´ ì¸ì›: 15ëª…"]}
      },
      civil:{
        ems:{name:"EMS",tagline:"â€œìš°ë¦¬ì˜ ì¶œë™ í•˜ë‚˜ê°€, ì„œë²„ ë¶„ìœ„ê¸°ë¥¼ ë°”ê¾¼ë‹¤.â€",info:"ì‘ê¸‰ì˜ë£Œì™€ ì¬ë‚œ ê³¨ë“ íƒ€ì„ì„ ì±…ì„ì§‘ë‹ˆë‹¤.",
          products:[{name:"ì§„í†µì œ",price:"1,000,000ì›",note:"í•˜ë£¨ ìµœëŒ€ 100ê°œ êµ¬ë§¤ ê°€ëŠ¥"},{name:"ì• ì™„ë™ë¬¼ ì¹˜ë£Œì œ",price:"3,000,000ì›",note:"í•˜ë£¨ ìµœëŒ€ 10ê°œ êµ¬ë§¤ ê°€ëŠ¥ (ì„ì‹œ)"}],
          org:["<strong>EMS ì§ê¸‰í‘œ</strong>","ì˜ë£Œêµ­ì¥(1/1): ë°•ì§€(105)","","[ê³ ìœ„ì§]","ë³‘ì›ì¥(0/1): â€”","ë¶€ì›ì¥(2/2): ë³´ë¦„ë‹¬(616), í•˜ì¦ˆë£¨(129)","ì„¼í„°ì¥(2/3): ì¬í›ˆ(541), ë°•ì¹ ìˆœ(386)","","[ê°„ë¶€ì§]","ë³¸ë¶€ì¥(0/4): â€”","êµ¬ê¸‰ê³¼ì¥(0/4): â€”","êµ¬ê¸‰ëŒ€ì¥(3/4): ì˜¥ìŠˆìŠˆ(2763), ìµ¸íŒŒ(1982), ìŠ¹ì£¼(2036)","","[ì¼ë°˜ì§]","êµ¬ê¸‰íŒ€ì¥(1/6): ë¦¬ìœ¤(263)","ì„ ì„ êµ¬ê¸‰ëŒ€ì›(1/10): ì±„ì–¸(395)","êµ¬ê¸‰ëŒ€ì›(6/âˆ): ì´ì˜¨(392), ë˜¥ëƒ¥ê¿(2522), í† ìš”ì¼(2685), ë§ˆê³µí¬(258), ë•…ì½”(2099), ì´í”„(3516)","êµ¬ê¸‰ëŒ€ì› ì¸í„´(5/âˆ): ì¥ê´‘ë‚¨(2504), ìœ„ë„(3104), ë¸Œê¸°(619), í™ì˜ˆë¦°(342), ì´ìˆ™í¬(3458)","","[ëŒ€ê¸°ë°œë ¹]","ë¶€ë¼ë³´ì½˜(177) â€” ë³‘ì›ì¥ / ì—”ì ¤(199) â€” ì„¼í„°ì¥ / ê°“ìƒí˜„(1164) â€” êµ¬ê¸‰íŒ€ì¥ / ìƒˆì›”ì´(117), ì´ìš°ì—°(865) â€” êµ¬ê¸‰ëŒ€ì›","","[ì¸ì‚¬ê³¼]","ì¸ì‚¬ê³¼ì¥: ë¶€ë¼ë³´ì½˜(616)","ì¸ì‚¬ëŒ€ì›: í•˜ì¦ˆë£¨(129), ìµ¸íŒŒ(1982), ìŠ¹ì£¼(2036)","","[ê°ì°°ê³¼]","ê°ì°°ê³¼ì¥: ë³´ë¦„ë‹¬(616)","ê°ì°°ëŒ€ì›: ë°•ì¹ ìˆœ(386), êµ°ë°˜(2058), ì˜¥ìŠˆìŠˆ(2763)","ì´ ì¸ì›: 27ëª…"]},
        southpd:{name:"ë‚¨ë¶€ê²½ì°°",tagline:"â€œì‹œë¯¼ì„ ìœ„í•œ ê°€ì¥ ê°€ê¹Œìš´ í˜â€",info:"",products:[],
          org:["<strong>ë‚¨ë¶€ê²½ì°° ì§ê¸‰í‘œ</strong>","[ê³ ìœ„ì§]","ì¹˜ì•ˆì´ê°: ë­‰ì½©(301)","ì¹˜ì•ˆì •ê°: ì´ë§Œë“(257)","ì¹˜ì•ˆê°: ìŠ¤ì™“(120)","ê²½ë¬´ê´€: ìœˆìŠ¤í„´(687)","","[ê°„ë¶€ì§]","í–‰ì •ê´€(ëª…ì˜ˆì§ê¸‰): ì¹¸ì½©(150)","ì´ê²½: ë°±ë§ˆ(212)","ê²½ì •: ì´ê¸€(672), ê¹€ì„ ìš°(1603)","ê²½ê° 3í˜¸ë´‰: ë“€ë‹ˆ(601)","ê²½ê° 2í˜¸ë´‰: â€”","ê²½ê° 1í˜¸ë´‰: í™©ì°½ìˆ˜(225), ì†¡ì†¡(387), ì •í›ˆ(624)","","[ì¼ë°˜ì§]","ê²½ìœ„ 3í˜¸ë´‰: ë°”ì—˜(273)","ê²½ìœ„ 2í˜¸ë´‰: â€”","ê²½ìœ„ 1í˜¸ë´‰: í•˜í•˜(420)","ê²½ì‚¬ 3í˜¸ë´‰: í‚¤í‹°(1540)","ê²½ì‚¬ 2í˜¸ë´‰: ë§¤ì›”(1212)","ê²½ì‚¬ 1í˜¸ë´‰: ê³ ì˜í¬(104), ì„¸ì´(268), ìœ¤ìœ¤(1766)","ê²½ì¥ 3í˜¸ë´‰: í—¬ì‚¬(431)","ê²½ì¥ 2í˜¸ë´‰: ì‹ íƒœì–‘(2562)","ê²½ì¥ 1í˜¸ë´‰: ì¹˜ë‚˜ì¸ (2629)","ìˆœê²½ 3í˜¸ë´‰: í™©ë³‘ì¥(2541), ë°•ì¹´ìˆ˜(2714)","ìˆœê²½ 2í˜¸ë´‰: í•˜ë‚˜ë‘˜ì…‹(3636)","ìˆœê²½ 1í˜¸ë´‰: ì‹œë‚˜(2040), ê³µê³µíŒ”(2778), ê³µê³µì¹ (2779), ë°±ê°•í˜(3215), íƒ„ë‘ë¦¬ë§ˆìŠ¤í„°(3890), íƒ„ë‘ë¦¬ì¹˜í‚¨(3891)","í›ˆë ¨ìƒ: ë¿¡ë¿¡ì´(157), ì´ìƒí˜„(260), ë°°íŒ”ì‹(266), ì¹´ë¡œ(767), ëŒ€í•œ(784), ìœˆìŠ¤í……(1780), ì¸ë¨¸(3476), ë§ˆí‚¤(3978)","ì²­ì†Œë¶€: ì•„ì‹¸(1544), ìœ¼ë‡½(3202)","","[ì¡°ì§ë„]","ê²½ì°°íŠ¹ê³µëŒ€(ESU): ëŒ€ì¥ ì´ë§Œë“ / ë¶€ëŒ€ì¥ ë“€ë‹ˆ / ëŒ€ì›: ë°±ë§ˆ, í™©ì°½ìˆ˜, ì†¡ì†¡, ì •í›ˆ, íƒ„ë‘ë¦¬ë§ˆìŠ¤í„°","í–‰ì •íŒ€: íŒ€ì¥ ìœˆìŠ¤í„´ / ë¶€íŒ€ì¥ ê¹€ì„ ìš° / íŒ€ì›: ìŠ¤ì™“, ì´ê¸€, ë°”ì—˜, ê³ ì˜í¬, í•˜í•˜, í‚¤í‹°, ê³µê³µíŒ”","ì´ ì¸ì›: 41ëª…"]},
        northpd:{name:"ë¶ë¶€ê²½ì°°",tagline:"â€œë„ë§ì³ë´ì•¼ ì†Œìš©ì—†ë‹¤~ ë¶ë¶€ê²½ì°° ì¶œë™ì´ë‹¤!â€ ğŸš“âœ¨",info:"",products:[],
          org:["<strong>ë¶ë¶€ê²½ì°° ì§ê¸‰í‘œ</strong>","[ê³ ìœ„ì§]","ê²½ì°°ì²­ì¥: ê¹€ë™í–‰(261)","ê²½ì°°ì°¨ì¥: ë§ˆí•„ì¬(1021), ì´ì¬ì„±(152)","ì¹˜ì•ˆê°: ì›ë‘(1228), ëœìŠ¤(712)","ê²½ë¬´ê´€: â€”","ì´ê²½: â€”","","[ê°„ë¶€ì§]","ê²½ì • 3í˜¸ë´‰: â€”","ê²½ì • 2í˜¸ë´‰: â€”","ê²½ì • 1í˜¸ë´‰: ê°€ë§ˆë‹ˆ(656), í˜¸ë§ˆìœ„(2690)","ê²½ê° 3í˜¸ë´‰: ê¹€ë¥˜ì°Œ(340)","ê²½ê° 2í˜¸ë´‰: â€”","ê²½ê° 1í˜¸ë´‰: ë‹¤ë‹ˆ(2456), ì„ì„±ì™„(2499), ê³ ì˜íƒœ(985), ë¯¼ìµ¸(580)","","[ì¼ë°˜ì§]","ìˆœê²½ 3í˜¸ë´‰: ê¹€ìŠ¹í˜„(1471), ê³ ë¡œì¼€ë¥¼ì™œê³ ë¡œì¼€ë¨¹ì–´(2035)","ìˆœê²½ 2í˜¸ë´‰: ê¹€ì™„ìˆ™(1170), ì§œì¿ (965), ìš°ë¼(1700), ì¶˜í˜¸(1121), ë´‰ì¶˜(1312), ì„¤ì—¬ìš°(2719)","ìˆœê²½ 1í˜¸ë´‰: ê³½ì°½ì‹(2660), ìœ ì˜ê²½(1278), ë³´ë³´(2991), í•¨ì‹¸ìš¸ë˜(3342), íˆ¬íŒ(2373), ë°•ì¶˜ë´‰(2636), ì˜ë (3686), ì‹œë“œ(2760), ìš©ìš©ì´(772), ì¶©ì£¼(1205), ì”½ëƒ¥(115), ë‚­ë‚­ì´(1332), ë…¸ì¸ê°„ë°•ê´‘ìš°(2794), ëª¨ì½”ì½”(769)","","[êµìœ¡/ê¸°íƒ€]","êµìœ¡ìƒ: ë­‰ì´(1047), ë§Œì›”(562), ì¶˜ì(2144)","ì´ ì¸ì›: 37ëª…"]},
        castillo:{name:"ì¹´ìŠ¤í‹¸ë¡œ",tagline:"â€œì—”ì§„ì€ ë©ì–´ë„ ì¹´ìŠ¤í‹¸ë¡œëŠ” ë©ì§€ ì•ŠëŠ”ë‹¤.â€",info:"",products:[
            {name:"ë°©ë¬¸ ìˆ˜ë¦¬", price:"3,000,000ì›"},{name:"ì¶œì¥ ìˆ˜ë¦¬", price:"5,000,000ì›"},{name:"ë¶ë¶€ ì¶œì¥ ìˆ˜ë¦¬", price:"6,000,000ì›"},{name:"ê·¹ë½ë„ ì¶œì¥ ìˆ˜ë¦¬", price:"6,000,000ì›"},{name:"ê¸´ê¸‰ ìˆ˜ë¦¬ í‚¤íŠ¸", price:"7,000,000ì›", note:"í•˜ë£¨ ìµœëŒ€ 5ê°œ"}],
          org:["<strong>ì¹´ìŠ¤í‹¸ë¡œ ì§ê¸‰í‘œ</strong>","","[ì„ì›]","ëŒ€í‘œì´ì‚¬(1/1): ë² ë² (281)","ì „ë¬´ì´ì‚¬(1/1): ì‚¬í•˜(201)","ë³¸ë¶€ì¥(2/2): ì¥ê²½ì² (339), ì´í˜„(245)","ë¹„ì„œíŒ€ì¥(1/1): ê°•í•˜ì§„(447)","","[ê¸°ìˆ /ìš´ì˜]","ëª…ì¥(1/1): ê³½í•œêµ¬(107)","ì •ë¹„íŒ€ì¥(0/1): â€”","ì •ë¹„ì‚¬(7): í”¼ìŠ¤ë§ˆì´ë„ˆìŠ¤ì›(293), ë¿Œì¹™(299), ë˜ë¯¸(516), ê¹€ì—°ì°¨(627), ëª¨ì½”ì½”(769), ë…ì£¼(2559), ìš©ê¶(719)","ì¸í„´(8): ì´ì¶˜ë°°(3379), ë°˜ë°˜(3495), ìƒˆë²½(1084), ë²Œë ˆ(3868), ì–‘ì •íŒ”(3588), ì´ë•íŒ”(3794), ë°•ì •í˜¸(3658), ê¶Œê±´(3824)","ì´ ì¸ì›: 21ëª…"]},
        broadcast:{name:"ë°©ì†¡êµ­",tagline:"â€œì‹œì‘ì€ ë¯¸ì•½í•´ë„ ëì€ ë¯¼ì¤‘ì´ë‹¤.â€",info:"",products:[],org:["<strong>ë°©ì†¡êµ­ ì§ê¸‰í‘œ</strong>","","[ì¡°ì§]","ë³´ë„êµ­ / í¸ì„±êµ­ / ì œì‘êµ­ / ê¸°ìˆ êµ­","[ê°„ë¶€]","ë³´ë„êµ­ì¥, í¸ì„±êµ­ì¥, ì œì‘êµ­ì¥, ê¸°ìˆ êµ­ì¥"]}
      },
      org:{
        bigdick:{name:"ë¹…ë”•",tagline:"â€œí¬ê¸°ëŠ” ìš°ì—°ì´ì§€ë§Œ, ìœ„ëŒ€í•¨ì€ ì„ íƒì´ë‹¤.â€",info:"",products:[
            {name:"ê¶Œì´", price:"20,000,000ì›"},{name:"SMG", price:"40,000,000ì›"},{name:"ì–´ì°íŠ¸ ë¼ì´í”Œ", price:"40,000,000ì›"},{name:"íƒ„ì•½ (500ë°œ)", price:"3,000,000ì›"},
            {name:"ì•¼êµ¬ë¹ ë”°/ì†ë„ë¼", price:"10,000,000ì›"},{name:"ê¹€ì¥ (ì¼ë°˜ ì‹œë¯¼)", price:"700,000,000ì›"},{name:"ê¹€ì¥ (ê³µë¬´ì›Â·íŒ©ì…˜)", price:"1,500,000,000ì›"}],
          org:["<strong>ë¹…ë”• ì§ê¸‰í‘œ</strong>","","[ìˆ˜ë‡Œë¶€]","ë‘ëª©: ê¹€í¸ì§‘(179)","ë¶€ë‘ëª©: ìš°ê¸°ì§€ë§ˆìš°ê¸°(1763), ì •ìš°(270)","ë¹…ë¸Œë¼ë”: ë„ê´‘ì² (2542), ë‚˜ê¸°(174)","ë¹„ì„œ: ì¸„ì¸„(1593)","","[íŠ¹ë³„ì§]","ë¹…ë”•ê³µì£¼(1): ë¼í¬(3667)","","[ê°„ë¶€ì§]","ì´ì‚¬ë ¹ê´€(0): ê³µì„","ë¶€ì‚¬ë ¹ê´€(0): ê³µì„","ë„ì‚´ì(0): ê³µì„","ë¬´ê¸°ì´ì±…(2): ê°€ì˜(3088), í‚¬ëŸ¬ì¡°(3096)","ë§ˆì•½ì´ì±…(1): í™©ì¶˜ì‹(3066)","","[ì¼ë°˜ì§]","ì²™ì‚´ëŒ€ì¥(2): ë°•ì •ì‹(1701), êµ¿ë•¡(134)","ì²™ì‚´ëŒ€ì›(0): ê³µì„","í–‰ë™ëŒ€ì¥(1): ìœ¤ë¯¸ì(3382)","í–‰ë™ëŒ€ì›(2): ì‚¬ë‘ì´(782), ë„¨ë‚´(3150)","ì¡°ì§ì›(3): ì¬ì›…(3139), ì¢…ê·¼(272), ê¹€ë¬µì§(3493)","ìˆ˜ìŠµì›(6): ì—½ì´(3358), ê°•ëŒ€ê·¼(3933), í•˜ìš°(3976), ìœ¤ë¼ë¥´ê¹Œë¼ë¥´ë¥´(3980), ê°•ì‚°(3465), ë²™ì–´ë¦¬(2973)","","[íŒ€ í¸ì œ]","ì´ê´€ë¦¬íŒ€: ê¹€í¸ì§‘(179), ì •ìš°(270) | ê°ì‚¬íŒ€: ìš°ê¸°ì§€ë§ˆìš°ê¸°(1763) | ì¸ì‚¬íŒ€: ì¸„ì¸„(1593), ë„ê´‘ì² (2542) | RPì§€ë„ê´€ë¦¬íŒ€: ë‚˜ê¸°(174)","ì´ ì¸ì›: 24/25"]},
        cheongryong:{name:"ì²­ë£¡",tagline:"â€œì²œìƒì²œí•˜ ìœ ì•„ë…ì¡´, ì²­ë£¡ì´ í•˜ëŠ˜ë¡œ ì„œê² ë‹¤.â€",info:"",products:[
            {name:"SMG", price:"40,000,000ì›"},{name:"AK ì†Œì´", price:"40,000,000ì›"},{name:"ê¶Œì´", price:"20,000,000ì›"},{name:"ì´ì•Œ (500ë°œ)", price:"3,000,000ì›"},{name:"ê·¼ì ‘ë¬´ê¸°", price:"10,000,000ì›"}],
          org:["<strong>ì²­ë£¡ê·¸ë£¹ ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","íšŒì¥: êµ¬ì‹¤ìˆ˜(254)","ë¶€íšŒì¥: ê¹€ì‹¤ë§(377), ê¹€í¸ì§š(252)","ì‹¤ì¥: ì„¤ì´(137)","ë¹„ì„œì‹¤ì¥: ì—°ë§¤í™”(486)","","[ê°„ë¶€ì§]","ì°¸ëª¨ì¥: ìš°ì‹(564)","ë¹„ì„œ: í•˜ë¦°(230)","ê³ ë¬¸ì¥: ë¸Œë¼ì´ì–¸ê·¼ì² (1757)","ê´€ë¦¬ëŒ€ì¥: â€”","í–‰ë™ëŒ€ì¥: íƒœë¬´(614), ì˜¤ëŒ€ìˆ˜(771)","","[ì¼ë°˜ì§]","í–‰ë™íŒ€ì¥: ê°•íƒœê³µ(233)","í–‰ë™ì›: í† ë§ˆí† ìš°(143), ë°•ê°€ëŒ, ë©©ë©©(3221)","ì¡°ì§ì›: ì¡°ê´‘ì² (2782), íƒœìœ¤(3709)","ìˆ˜ìŠµì¼ì›: íš¨ë¼ë¥´ê¹Œë¼ë¥´(3983), ê¶¤ë¯¼(3979)","","[íŒ€ í¸ì œ](ì°¸ê³ )","ì´ê´€ë¦¬íŒ€: êµ¬ì‹¤ìˆ˜ | ë¶€ì´ê´€ë¦¬íŒ€: ê¹€í¸ì§š | ì¸ì‚¬ íŒ€ì¥: ì„¤ì´ | ì¸ì‚¬ íŒ€ì›: ê¹€ì‹¤ë§","ì´ ì¸ì›: 19ëª…"]},
        sakura:{name:"ì‚¬ì¿ ë¼",tagline:"â€œë²šê½ƒì€ ë§Œê°œí•  ë•Œ í™”ë ¤í•œ ë²•ì´ë‹¤.â€",info:"",products:[
            {name:"ì¡°ì„ ë°±ì", price:"10,000,000ì›"},{name:"ë¶„ì²­ì‚¬ê¸°", price:"10,000,000ì›"},{name:"ê³ ë ¤ì²­ì", price:"10,000,000ì›"},{name:"ê¸°íƒ€ ì¥ë¬¼", price:"4,000,000ì›", note:"ì°¸ì¹˜ ì˜¤ë„ë¡œ / ë²¨ë£¨ê°€ ìºë¹„ì–´ / í‘¸ì•„ê·¸ë¼ / ì‚°ì‚¼"},
            {name:"ê¸ˆ ê·€ê±¸ì´", price:"72,000,000ì›"},{name:"ëª…í’ˆ ì‹œê³„", price:"72,000,000ì›"},{name:"ë‹¤ì´ì•„ëª¬ë“œ ë°˜ì§€", price:"64,000,000ì›"},{name:"ê¸ˆê´´", price:"64,000,000ì›"},{name:"ë¸”ë™ë¨¸ë‹ˆ ìˆ˜ìˆ˜ë£Œ", price:"30%", note:"êµ¬ë§¤ê°€ì˜ 30%"}],
          org:["<strong>ì‚¬ì¿ ë¼ ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","ì˜¤ì•¼ë¶•: ì• ê¸°(708)","ë¶€ì˜¤ì•¼ë¶•: ë¥´ì‹œ(907)","í–‰ë™ëŒ€ì¥: ë¦´ë”•(907)","","[ê°„ë¶€ì§]","ë§Œê°œ: â€”","ë³’ë°”ëŒ: â€”","ë‚™í™”: í•‘í(714)","","[ì¼ë°˜ì§]","ê½ƒë°›ì¹¨: â€”","ê½ƒì¤„ê¸°: â€”","ê½ƒì: í›ˆì¬(939), í‘ë°±(1426)","ê½ƒë´‰ì˜¤ë¦¬: í˜„ìš°(2634), ìŠ¤ì»¬(2724), ì„œí•˜ëŠ˜(2739), íŒŒë§(2490), ë”¸í†µ(3218), ë…¸ì¹ (652)","ê½ƒëˆˆ: í”¼ë¡œ(1987), í‘¸ë¥¸í•˜ëŠ˜(581)","","[íŠ¹ë³„ì§]","ì²œë³¸ì•µ: íˆí›(768)","ì¥ë¡œ: ì•„í‚¤ë¼(248), ë°í‚¤(571)","í™”ê²€ëŒ€: â€”","ì´ì›: 17 / 25"]},
        jakdu:{name:"ì‘ë‘",tagline:"â€œì™€ì‹ ìƒë‹´(è‡¥è–ªå˜—è†½)â€",info:"",products:[
            {name:"ì–´ì°íŠ¸ ë¼ì´í”Œ", price:"40,000,000ì›"},{name:"SMG", price:"40,000,000ì›"},{name:"ê¶Œì´", price:"20,000,000ì›"},{name:"íƒ„ì•½ (500ë°œ)", price:"3,000,000ì›"},{name:"ì‹ì¹¼/ì†ë„ë¼", price:"10,000,000ì›"}],
          org:["<strong>ì‘ë‘ ì§ê¸‰í‘œ</strong>","","[ê³ ìœ„ì§]","íšŒì¥(ì‚¼íŒ”ê´‘ë•¡): ì¡°ê·¼ì‹(1275)","ë¶€íšŒì¥(ì¼íŒ”ê´‘ë•¡): ë°•í˜•ì‹(660)","ì¼ì‚¼ê´‘ë•¡: ë„ˆêµ¬ë¦¬(219)","ì•”í–‰ì–´ì‚¬ ì°¸ëª¨: ëŸ¬ë²„ë•(796), ë•ì¶œ(227)","[ê°„ë¶€ì§]","ì•Œë¦¬: ì •ë¶€ì¥(891)","ë…ì‚¬: ì´ì¨”(1839)","êµ¬ì‚¥: ëŒ€ë¨¸ë¦¬ì‹ ì‚¬(2728)","ì¥ì‚¥: ì¡°ì¿ ì™€ë¼(1810)","","","","[íŠ¹ìˆ˜ì§]","ì˜ˆë¦¼ì´: ë°•ë§ìˆœ(654)","[ì¼ë°˜ì§]","ê°‘ì˜¤: ê³µì„ ","í•œë—: í™ê¸ˆìª½(3845), ì£¼ì•¼(3432)","ë—: ë¥´ë§ˆ(2544), ì†¡ì‹¤ìˆ˜(2553), ê³ ë„ë¦¬(3161), ë¯¸ìŠ¤í„°ê°±(130), ìœ ì›”(3462)","","[ìˆ˜ìŠµì›]","ë§í†µ: ë² ë°°(1712), ì§±ëŒ(3566), ê·¤íƒ±ì´(3652), ë‘êº¼ë¹„(3461), ë°˜í•˜ì¤€(1160), í‚¤ìœ„ë¯¹ìŠ¤(3889), ìµœë™ì›…(3934)","ì´ ì¸ì›: 25/25"]}
      }
    };

    /* ---------- ë„¤ë¹„/ì„œë¸Œí˜ì´ì§€ ---------- */
    function showPage(pageId){
      document.querySelectorAll('.page').forEach(s=>s.classList.remove('active'));
      const el=document.getElementById(pageId);
      if(el){ el.classList.add('active'); window.scrollTo({top:0,behavior:'smooth'}); }
      toggleBroadcastBox();
    }
    function goHome(){ showPage('home'); }
    function showSubPage(id){
      document.querySelectorAll('#home .sub-page').forEach(div=>div.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    /* í™ˆì—ì„œë§Œ ë¦¬ì–¼ ë°©ì†¡êµ­ í‘œì‹œ */
    function toggleBroadcastBox(){
      const isHome = document.getElementById('home')?.classList.contains('active');
      const bx = document.getElementById('broadcastBox');
      if(bx) bx.style.display = isHome ? '' : 'none';
    }

    /* ---------- ì¹´í…Œê³ ë¦¬ í€µ ì´ë™ ---------- */
    function scrollToSection(id){
      const el=document.getElementById(id);
      if(el) el.scrollIntoView({behavior:"smooth",block:"start"});
    }

    /* ---------- ê±°ë˜ í†µê³„/ì¸ê¸° TOP5 ---------- */
    const items=[
      {name:"í« ì…ì–‘ê¶Œ",volume:0,price:200,change:0},
      {name:"íŠ¸ì›”í‚¹",volume:0,price:30,change:0},
    ];
    function renderTable(){
      const tbody=document.querySelector("#itemTable tbody");
      if(!tbody) return;
      tbody.innerHTML="";
      items.forEach(it=>{
        const cls=it.change>0?"up":it.change<0?"down":"";
        tbody.innerHTML+=`
          <tr>
            <td>${it.name}</td>
            <td>${it.volume}</td>
            <td>${it.price}ì–µ</td>
            <td class="${cls}">${it.change>0?"â–²":it.change<0?"â–¼":"-"} ${it.change}%</td>
          </tr>`;
      });
    }
    function renderTop(){
      const ul=document.querySelector("#topList");
      if(!ul) return;
      ul.innerHTML=items.slice().sort((a,b)=>b.volume-a.volume).slice(0,5)
        .map(it=>`<li>${it.name} (${it.volume}ê±´)</li>`).join("");
    }

    /* ---------- ì¡°ì§ë„ í¬ë§·í„° ---------- */
    function formatOrg(lines){
      return lines.map(raw=>{
        const t=(raw??"").trim();
        if(!t) return `<li class="org-gap"></li>`;
        if(/^<strong/i.test(t)) return `<li class="org-title">${t}</li>`;
        if(/^\[.*\]$/.test(t)) {
          const label=t.replace(/^\[|\]$/g,"");
          return `<li class="org-section"><span>${label}</span></li>`;
        }
        if(t.includes("ì´ ì¸ì›") || t.includes("ì´ì›")) {
          return `<li class="org-total">${t}</li>`;
        }
        return `<li class="org-item"><span class="dot"></span>${t}</li>`;
      }).join("");
    }

    /* ---------- ì—”í‹°í‹° ëª¨ë‹¬ ---------- */
    const KEY_TO_BG = {
      beehive:'bg-beehive', tteokleaf:'bg-tteok-green',
      inback:'bg-inback', chakani:'bg-chakani',
      ems:'bg-ems', southpd:'bg-southpd', northpd:'bg-northpd', castillo:'bg-castillo', broadcast:'bg-broadcast',
      bigdick:'bg-bigdick', cheongryong:'bg-cheongryong', sakura:'bg-sakura', jakdu:'bg-jakdu',
    };

    function openEntity(type,key){
      const group=ENTITIES[type]||{};
      const ent=group[key];
      if(!ent) return;

      const modal=document.getElementById("modal");
      const content=document.getElementById("modalContent");

      content.className = "modal-content " + (KEY_TO_BG[key] || "");

      document.getElementById("modalTitle").textContent=ent.name;
      document.getElementById("modalTagline").textContent = ent.tagline || "â€”";

      document.querySelectorAll('.modal-tab').forEach(t=>t.classList.remove('active'));
      document.getElementById("modal-org").classList.add('active');

      const orgUL=document.getElementById("modalOrgList");
      orgUL.innerHTML = (ent.org && ent.org.length)
        ? formatOrg(ent.org)
        : "<li class='org-item'><span class='dot'></span>ë“±ë¡ëœ ì¡°ì§ë„ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</li>";

      const prodUL = document.getElementById("modalProdList");
      const hasProducts = Array.isArray(ent.products) && ent.products.length > 0;
      if (hasProducts) {
        prodUL.innerHTML = ent.products.map((p, i) => {
          const delay = i * 40;
          const note = p.note ? `<div class="prod-note">${p.note}</div>` : "";
          return `
            <li class="prod-card" style="animation-delay:${delay}ms">
              <div class="prod-title">${p.name}</div>
              <div class="prod-price">${p.price}</div>
              ${note}
            </li>
          `;
        }).join("");
      } else {
        prodUL.innerHTML = "";
      }

      const info=document.getElementById("modalInfoText");
      info.innerHTML=`<b>í•œ ë§ˆë””:</b> ${ent.tagline||"â€”"}<br>${ent.info||""}`;

      const btnProducts = document.querySelector('.modal-nav button[data-tab="products"]');
      btnProducts.style.display = hasProducts ? '' : 'none';

      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
      document.getElementById("modal").setAttribute('aria-hidden','false');
    }
    function closeModal(){
      document.getElementById("modal").classList.remove('show');
      document.body.style.overflow = '';
      document.getElementById("modal").setAttribute('aria-hidden','true');
    }
    function showModalTab(id){
      document.querySelectorAll('.modal-tab').forEach(t=>t.classList.remove('active'));
      document.getElementById("modal-"+id).classList.add('active');
    }

    /* ---------- ë„ì›€ë§(ë³´ê¸° ì „ìš©) ---------- */
    const HELP_TEXTS = {
      market: `
        <ul>
          <li><b>ë‹¹ê·¼ë§ˆì¼“</b>ì€ ê°œì¸ ê°„ ì•„ì´í…œ ê±°ë˜ë¥¼ ìœ„í•œ ì»¤ë®¤ë‹ˆí‹° ì¥í„°ì…ë‹ˆë‹¤.</li>
          <li>ë‹¹ê·¼ë§ˆì¼“ ì´ìš© ì‹œ <b>ê¸°ì¬ë¹„ìš© 1ì–µ</b>ì…ë‹ˆë‹¤. ì´ ì  ìœ ì˜í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.</li>
          <li>ê¸°ì¬ë¥¼ ìœ„í•´ <b>703 ê¹€ë‚¨ì • ë””ìŠ¤ì½”ë“œ DM</b>ì„ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.</li>
          <li><b>ë‹‰ë„¤ì„</b>, <b>ê³ ë²ˆ</b>, <b>í’ˆëª©</b>, <b>ê°€ê²©</b>ì„ ëª…í™•íˆ ê¸°ì¬í•´ ì£¼ì„¸ìš”.</li>
          <li>ì•ˆì „ ê±°ë˜ íŒ: ê±°ë˜ ì „Â·í›„ <b>ìŠ¤í¬ë¦°ìƒ·</b>ì„ ë‚¨ê¸°ê³ , <b>ì¡°ê±´/ìˆ˜ìˆ˜ë£Œ</b>ë¥¼ ì‚¬ì „ì— í•©ì˜í•˜ì„¸ìš”.</li>
          <li>ìš´ì˜ì§„ì€ ê±°ë˜ì— ì§ì ‘ ê°œì…í•˜ì§€ ì•Šìœ¼ë©°, ë‹¹ê·¼ë§ˆì¼“ì€ <b>ì¤‘ë§¤ ì—­í• </b>ì…ë‹ˆë‹¤.</li>
          <li>ì‹ ê³ /ë¬¸ì˜ëŠ” ì¢Œì¸¡ <b>ê³µì§€ì‚¬í•­</b>ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”.</li>
        </ul>`
    };
    function openHelp(key){
      const modal = document.getElementById('helpModal');
      const title = document.getElementById('helpTitle');
      const tagline = document.getElementById('helpTagline');
      const content = document.getElementById('helpContent');

      if(key==='market'){
        title.textContent = 'ë‹¹ê·¼ë§ˆì¼“ ë„ì›€ë§';
        tagline.textContent = 'ì»¤ë®¤ë‹ˆí‹° ì¥í„° ì´ìš© ì•ˆë‚´';
      } else {
        title.textContent = 'ë„ì›€ë§';
        tagline.textContent = 'ì•ˆë‚´';
      }
      content.innerHTML = HELP_TEXTS[key] || '<p class="help-view">ì•ˆë‚´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';

      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
    }
    function closeHelp(){
      const modal = document.getElementById('helpModal');
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    /* ---------- ì‚¬ì—° ìƒì„¸ ëª¨ë‹¬ ---------- */
    const storyMap = new Map();
    function openStory(id){
      const s = storyMap.get(id);
      if(!s) return;
      document.getElementById('sModalTitle').textContent = s.title || '(ì œëª© ì—†ìŒ)';
      const nameStr = s.isAnon ? 'ìµëª…' : (s.nick || 'â€”');
      const codeStr = (!s.isAnon && s.code) ? ` (${s.code})` : '';
      document.getElementById('sModalMeta').textContent = `${nameStr}${codeStr} Â· ${s._time || ''}`;
      document.getElementById('sModalBody').textContent = s.body || '';
      const cat = document.getElementById('sModalCat');
      cat.textContent = s.category || 'ê¸°íƒ€';
      const song = document.getElementById('sModalSong');
      if(s.song){ song.style.display='inline-flex'; song.textContent = `ğŸµ ${s.song}`; } else { song.style.display='none'; }
      const m = document.getElementById('storyModal');
      m.classList.add('show');
      m.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
    }
    function closeStory(){
      const m = document.getElementById('storyModal');
      m.classList.remove('show');
      m.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    /* ì´ˆê¸° ë Œë” */
    renderTable(); renderTop();

    /* ìŠ¤í¬ë¡¤ ì§„í–‰ë°” */
    function onScrollProgress(){
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight || 1);
      const bar = document.getElementById('scrollProgress');
      if(bar) bar.style.width = (Math.max(0, Math.min(1, scrolled)) * 100) + '%';
    }
    window.addEventListener('scroll', onScrollProgress, { passive:true });

    document.addEventListener('DOMContentLoaded', ()=>{
      toggleBroadcastBox();
      onScrollProgress();
    });

    /* ===== âœ… ì¶”ê°€: ì°¨ëŸ‰ ì¹´ë“œ í´ë¦­ â†’ ì°¨ëŸ‰ ëª¨ë‹¬ ì—´ê¸° ===== */
    const CAR_DATA = {
      'í…Œì €ë™íŠ¸': { price:'300ì–µ', desc:'ìµœê³ ì†ë„ 400km/h, ì „ìì‹ ì„œìŠ¤íœì…˜, íƒ„ì†Œì„¬ìœ  ëª¨ë…¸ì½”í¬ ì„€ì‹œ.' },
      'ë„¤ë¡œ': { price:'250ì–µ', desc:'ë°¸ëŸ°ìŠ¤ê°€ ì¢‹ì€ ì „ì²œí›„ ìŠˆí¼ì¹´. ì¼ìƒÂ·ë ˆì´ìŠ¤ ëª¨ë‘ OK.' },
      'M1': { price:'200ì–µ', desc:'ìŠ¤í¬í‹°í•œ í´ë˜ì‹ ëª¨ë¸. ì»¤ìŠ¤í…€ íŒŒì¸  í˜¸í™˜ì„± ìš°ìˆ˜.' },
      'ì‡¼íƒ€ë¡œ': { price:'100ì–µ', desc:'ë°”ì´í¬ê³„ì˜ ì•„ì´ì½˜. ê°€ì†Â·í•¸ë“¤ë§ íŠ¹í™”.' }
    };

    function openCarModal(){
      const modal = document.getElementById('carModal');
      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
    }
    function closeCarModal(){
      const modal = document.getElementById('carModal');
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    document.addEventListener('click', (e)=>{
      const card = e.target.closest('.car-card');
      if(!card) return;
      const name = card.dataset.car;
      const data = CAR_DATA[name] || {};
      document.getElementById('carModalTitle').textContent = name || 'ì°¨ëŸ‰';
      document.getElementById('carModalPrice').textContent = 'ê°€ê²©: ' + (data.price || '-');
      document.getElementById('carModalDesc').textContent = data.desc || 'ì„¸ë¶€ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.';
      openCarModal();
    });
  </script>

  <!-- ===== Firebase + Firestore (ì‚¬ì—° ì‹ ì²­ + ëª©ë¡) ===== -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
    import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, limit, onSnapshot } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";
    import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBQt_sPa5B4rHWAHTn9piQ6mYYmTDpxykM",
      authDomain: "information-5461a.firebaseapp.com",
      projectId: "information-5461a",
      storageBucket: "information-5461a.firebasestorage.app",
      messagingSenderId: "1051085585657",
      appId: "1:1051085585657:web:c9b43d1b000aa30a233628",
      measurementId: "G-2VD58S8V9C"
    };

    const app = initializeApp(firebaseConfig);
    try { getAnalytics(app); } catch(e){}
    const db = getFirestore(app);
    const auth = getAuth(app);

    signInAnonymously(auth).catch(console.error);

    const storiesRef = collection(db, "stories");

    /* ---- í¼ ì—˜ë¦¬ë¨¼íŠ¸ ---- */
    const storyForm = document.getElementById("storyForm");
    const storyNick = document.getElementById("storyNick");
    const storyCode = document.getElementById("storyCode");
    const storyTitle = document.getElementById("storyTitle");
    const storyBody = document.getElementById("storyBody");
    const storyMsg  = document.getElementById("storyMsg");
    const storySong = document.getElementById("storySong");
    const storyCategory = document.getElementById("storyCategory");
    const anonSwitch = document.getElementById("anonSwitch");
    const storyList = document.getElementById("storyList");
    const storyFilter = document.getElementById("storyFilter");

    /* ---- ìµëª… ìŠ¤ìœ„ì¹˜ ---- */
    function setAnon(active){
      anonSwitch.classList.toggle('active', !!active);
      anonSwitch.setAttribute('aria-checked', active ? 'true' : 'false');
      updateAnonUI();
    }
    function updateAnonUI(){
      const anon = anonSwitch.classList.contains('active');
      [storyNick, storyCode].forEach((el)=>{
        el.disabled = anon;
        if(anon) el.value = '';
        if(el === storyNick) el.placeholder = anon ? 'ìµëª… ëª¨ë“œ' : 'ë‹‰ë„¤ì„';
        if(el === storyCode) el.placeholder = anon ? 'ìµëª… ëª¨ë“œ' : 'ê³ ë²ˆ (ì˜ˆ: 251)';
      });
    }
    setAnon(false);
    updateAnonUI();
    anonSwitch.addEventListener('click', ()=> setAnon(!anonSwitch.classList.contains('active')));
    anonSwitch.addEventListener('keydown', (e)=>{ if(e.key===' '||e.key==='Enter'){ e.preventDefault(); setAnon(!anonSwitch.classList.contains('active')); }});

    /* ---- ì œì¶œ ---- */
    storyForm?.addEventListener("submit", async (e)=>{
      e.preventDefault();
      const isAnon = anonSwitch.classList.contains('active');
      // âœ… ìµëª…ì´ë©´ ë‹‰/ê³ ë²ˆ ì €ì¥í•˜ì§€ ì•ŠìŒ
      const nick  = isAnon ? "" : (storyNick.value||"").trim();
      const code  = isAnon ? "" : (storyCode.value||"").trim();
      const title = (storyTitle.value||"").trim();
      const body  = (storyBody.value||"").trim();
      const song  = (storySong.value||"").trim();
      const category = storyCategory.value || "";

      if(!title || !body || !category){
        storyMsg.textContent = "ì¹´í…Œê³ ë¦¬/ì œëª©/ë‚´ìš©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.";
        storyMsg.style.color = "#dc2626";
        return;
      }
      if(!isAnon && !nick && !code){
        storyMsg.textContent = "ìµëª…ì´ ì•„ë‹ˆë©´ ë‹‰ë„¤ì„ ë˜ëŠ” ê³ ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”.";
        storyMsg.style.color = "#dc2626";
        return;
      }

      storyForm.querySelector("button[type=submit]").disabled = true;
      storyMsg.textContent = "ì „ì†¡ ì¤‘...";
      storyMsg.style.color = "#6b7280";
      try{
        await addDoc(storiesRef, { isAnon, nick, code, title, body, song, category, createdAt: serverTimestamp() });
        storyMsg.textContent = "ì‚¬ì—°ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤.";
        storyMsg.style.color = "#16a34a";
        storyTitle.value = "";
        storyBody.value = "";
        storySong.value = "";
        // ì¹´í…Œê³ ë¦¬/ìµëª… ì„¤ì •ì€ ìœ ì§€
      }catch(err){
        storyMsg.textContent = "ì‚¬ì—° ì „ì†¡ ì‹¤íŒ¨: " + (err?.message||err);
        storyMsg.style.color = "#dc2626";
      }finally{
        storyForm.querySelector("button[type=submit]").disabled = false;
      }
    });

    /* ---- ìµœì‹  ì‚¬ì—° êµ¬ë… + ë Œë”ëŸ¬ ---- */
    function fmtTime(ts){
      try{
        const d = ts?.toDate ? ts.toDate() : (ts instanceof Date ? ts : new Date());
        const y = d.getFullYear(), m = ('0'+(d.getMonth()+1)).slice(-2), da=('0'+d.getDate()).slice(-2);
        const hh=('0'+d.getHours()).slice(-2), mm=('0'+d.getMinutes()).slice(-2);
        return `${y}.${m}.${da} ${hh}:${mm}`;
      }catch{ return ""; }
    }

    function renderStoryList(){
      const filterCat = storyFilter?.value || "";
      const all = Array.from(storyMap.values());
      const arr = all.filter(s=> !filterCat || s.category === filterCat);

      if(arr.length===0){
        storyList.innerHTML = `<li class="story-empty">ì•„ì§ ë“±ë¡ëœ ì‚¬ì—°ì´ ì—†ìŠµë‹ˆë‹¤.</li>`;
        return;
      }
      storyList.innerHTML = arr.map(s=>{
        const who  = s.isAnon ? 'ìµëª…' : (s.nick || 'â€”');
        const code = (!s.isAnon && s.code) ? ` (${s.code})` : '';
        const song = s.song ? ` Â· ğŸµ ${s.song}` : '';
        return `
          <li class="story-item" data-id="${s.id}">
            <div class="left">
              <span class="badge">${s.category||'ê¸°íƒ€'}</span>
              <div style="display:flex;flex-direction:column;min-width:0">
                <div class="title">${s.title||'(ì œëª© ì—†ìŒ)'}</div>
                <div class="meta">${who}${code} Â· ${s._time || ''}${song}</div>
              </div>
            </div>
            <div class="meta">ë³´ê¸° â–¸</div>
          </li>
        `;
      }).join('');

      storyList.querySelectorAll('.story-item').forEach(li=>{
        li.addEventListener('click', ()=> openStory(li.getAttribute('data-id')));
      });
    }

    const qLatest = query(storiesRef, orderBy('createdAt','desc'), limit(50));
    onSnapshot(qLatest, (snap)=>{
      storyMap.clear();
      snap.forEach(doc=>{
        const s = { id: doc.id, ...doc.data() };
        s._time = s.createdAt ? fmtTime(s.createdAt) : '';
        storyMap.set(s.id, s);
      });
      renderStoryList();
    });

    storyFilter?.addEventListener('change', renderStoryList);
  </script>
</body>
</html>

