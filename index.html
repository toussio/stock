<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>작두 투자 센터</title>

  <!-- ====== 스타일 ====== -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- ====== Firebase SDK ====== -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js"></script>
</head>

<body>
  <h1>📈 작두 투자 센터</h1>

  <!-- ====== 유저 정보 영역 ====== -->
  <section id="userRow">
    <div id="userInfo">로그인 필요</div>
    <div>
      <button onclick="openExchangeModal()">💱 환전</button>
      <button onclick="openAttendanceModal()">📅 출석</button>
      <button id="logoutBtn" onclick="logout()">🚪 로그아웃</button>
    </div>
  </section>

  <!-- ====== 로그인 모달 ====== -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <h2>🔐 로그인</h2>
      <input type="text" id="customId" placeholder="고유번호" /><br><br>
      <input type="text" id="customName" placeholder="이름" /><br><br>
      <button id="loginBtn">로그인</button>
    </div>
  </div>

  <!-- ====== 환전 모달 ====== -->
  <div class="modal" id="exchangeModal">
    <div class="modal-content">
      <h2>💱 RWW → COIN 환전</h2>
      <input type="number" id="exchangeAmount" placeholder="금액 입력" />
      <div style="margin-top:10px;">
        <button onclick="exchangeCashToCoin()">환전</button>
        <button onclick="closeExchangeModal()">닫기</button>
      </div>
    </div>
  </div>

  <!-- ====== 출석체크 모달 ====== -->
  <div class="modal" id="attendanceModal">
    <div class="modal-content">
      <h2>📅 출석체크</h2>
      <div id="attendanceGrid"></div>
      <button style="margin-top:10px;" onclick="closeAttendanceModal()">닫기</button>
    </div>
  </div>

  <!-- ====== 관리자 패널 (기본 숨김) ====== -->
  <div class="modal" id="adminPanelAll">
    <div class="modal-content" id="adminPanelHeaderSticky">
      <h2>🛡️ 관리자 패널</h2>

      <div id="adminSummary" class="req-card"></div>

      <div class="req-card">
        <h3>유저 목록</h3>
        <div id="userList"></div>
      </div>

      <div class="req-card">
        <h3>뉴스 관리</h3>
        <div id="adminNewsList"></div>
      </div>

      <button onclick="closeAdmin('adminPanelAll')" style="margin-top:10px;">닫기</button>
    </div>
  </div>

  <!-- ====== 뉴스 영역 ====== -->
  <section id="newsList" style="margin-top:30px;">
    <h2>📰 뉴스 피드</h2>
    <div>로딩 중...</div>
  </section>

  <!-- ====== 실시간 채팅창 ====== -->
  <div id="chatBox">
    <div id="chatHeader">
      <span>💬 실시간 채팅</span>
      <button id="chatToggleBtn" title="숨기기/펼치기">—</button>
    </div>
    <div id="chatMessages"></div>
    <div id="chatInputWrap">
      <input type="text" id="chatInput" placeholder="메시지 입력...(Enter 전송, Shift+Enter 줄바꿈)">
      <button onclick="sendChat()">전송</button>
    </div>
    <div id="chatResizer" title="드래그해서 채팅창 높이 조절"></div>
  </div>

  <!-- ====== 모드 전환 버튼 ====== -->
  <button id="modeToggleBtn" onclick="toggleMode()">🔁 주식 ⇄ 코인</button>

  <!-- ====== 스크립트 분할 로드 ====== -->
  <script src="js/app.js"></script>
  <script src="js/admin.js"></script>
  <script src="js/attendance.js"></script>
  <script src="js/exchange.js"></script>
  <script src="js/chat.js"></script>
  <script src="js/news.js"></script>

  <!-- (선택) 나중에 추가할 파일 -->
  <!-- <script src="js/finance.js"></script> -->
  <!-- <script src="js/market.js"></script> -->
  <!-- <script src="js/ui.js"></script> -->
</body>
</html>
